(function(t){function e(e){for(var a,r,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)r=n[d],i[r]&&m.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,n=1;n<o.length;n++){var l=o[n];0!==i[l]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0997":function(t,e,o){"use strict";var a=o("feb6"),i=o.n(a);i.a},"0e78":function(t,e,o){},"0fa6":function(t,e,o){},1:function(t,e){},"10a2":function(t,e,o){},"10f7":function(t,e,o){},"12c2":function(t,e,o){"use strict";var a=o("92f4"),i=o.n(a);i.a},"177f":function(t,e,o){},"1c43":function(t,e,o){"use strict";var a=o("c5a9"),i=o.n(a);i.a},"1d13":function(t,e,o){"use strict";var a=o("9bc4"),i=o.n(a);i.a},"1db9":function(t,e,o){},"1eb9":function(t,e,o){t.exports=o.p+"img/wx_index_ad_show.04fc3374.jpg"},2:function(t,e){},"258c":function(t,e,o){"use strict";var a=o("b97d"),i=o.n(a);i.a},"26b8":function(t,e,o){},"2c8a":function(t,e,o){},"2d90":function(t,e,o){"use strict";var a=o("6da4"),i=o.n(a);i.a},"30da":function(t,e,o){"use strict";var a=o("cd13"),i=o.n(a);i.a},"321a":function(t,e,o){"use strict";var a=o("619b"),i=o.n(a);i.a},"35df":function(t,e,o){},"36d0":function(t,e,o){},"39a0":function(t,e,o){"use strict";o.r(e),o.d(e,"export_table_to_excel",function(){return l}),o.d(e,"export_json_to_excel",function(){return c});o("34ef");function a(t){for(var e=[],o=t.querySelectorAll("tr"),a=[],i=0;i<o.length;++i){for(var s=[],r=o[i],n=r.querySelectorAll("td"),l=0;l<n.length;++l){var c=n[l],u=c.getAttribute("colspan"),d=c.getAttribute("rowspan"),m=c.innerText;if(""!==m&&m==+m&&(m=+m),a.forEach(function(t){if(i>=t.s.r&&i<=t.e.r&&s.length>=t.s.c&&s.length<=t.e.c)for(var e=0;e<=t.e.c-t.s.c;++e)s.push(null)}),(d||u)&&(d=d||1,u=u||1,a.push({s:{r:i,c:s.length},e:{r:i+d-1,c:s.length+u-1}})),s.push(""!==m?m:null),u)for(var p=0;p<u-1;++p)s.push(null)}e.push(s)}return[e,a]}function i(t,e){e&&(t+=1462);var o=Date.parse(t);return(o-new Date(Date.UTC(1899,11,30)))/864e5}function s(t,e){for(var o={},a={s:{c:1e7,r:1e7},e:{c:0,r:0}},s=0;s!=t.length;++s)for(var r=0;r!=t[s].length;++r){a.s.r>s&&(a.s.r=s),a.s.c>r&&(a.s.c=r),a.e.r<s&&(a.e.r=s),a.e.c<r&&(a.e.c=r);var n={v:t[s][r]};if(null!=n.v){var l=XLSX.utils.encode_cell({c:r,r:s});"number"===typeof n.v?n.t="n":"boolean"===typeof n.v?n.t="b":n.v instanceof Date?(n.t="n",n.z=XLSX.SSF._table[14],n.v=i(n.v)):n.t="s",o[l]=n}}return a.s.c<1e7&&(o["!ref"]=XLSX.utils.encode_range(a)),o}function r(){if(!(this instanceof r))return new r;this.SheetNames=[],this.Sheets={}}function n(t){for(var e=new ArrayBuffer(t.length),o=new Uint8Array(e),a=0;a!=t.length;++a)o[a]=255&t.charCodeAt(a);return e}function l(t){var e=document.getElementById(t);console.log("a");var o=a(e),i=o[1],l=o[0],c="SheetJS";console.log(l);var u=new r,d=s(l);d["!merges"]=i,u.SheetNames.push(c),u.Sheets[c]=d;var m=XLSX.write(u,{bookType:"xlsx",bookSST:!1,type:"binary"});saveAs(new Blob([n(m)],{type:"application/octet-stream"}),"test.xlsx")}function c(t,e,o){var a=e;a.unshift(t);var i="SheetJS",l=new r,c=s(a);l.SheetNames.push(i),l.Sheets[i]=c;var u=XLSX.write(l,{bookType:"xlsx",bookSST:!1,type:"binary"}),d=o||"列表";saveAs(new Blob([n(u)],{type:"application/octet-stream"}),d+".xlsx")}o("0fd4"),o("df1a"),o("1447")},"41b4":function(t,e,o){"use strict";var a=o("26b8"),i=o.n(a);i.a},4253:function(t,e,o){t.exports=o.p+"img/kettle_mobile_ad_show.556eba86.jpg"},"483c":function(t,e,o){},"4a77":function(t,e,o){"use strict";var a=o("4dbd"),i=o.n(a);i.a},"4dbd":function(t,e,o){},"50dc":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var a=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],r=(o("5c0b"),o("2877")),n={},l=Object(r["a"])(n,i,s,!1,null,null,null),c=l.exports,u=o("e814"),d=o.n(u),m=o("8c4f"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"login-from-box"},[o("p",{staticClass:"title"},[t._v("岗隆数码后台管理")]),o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"帐号",prop:"name"}},[o("el-input",{attrs:{placeholder:"您的管理员帐号",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"您的管理员密码",clearable:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("立即登录")])],1)],1)],1)])},_=[],f=o("f499"),h=o.n(f),g=(o("7f7f"),{data:function(){return{form:{name:"",password:"",remember:"on"},rules:{name:[{required:!0,message:"请输入您的帐号",trigger:"blur"}],password:[{required:!0,message:"请输入您的密码",trigger:"blur"}]},remember:!1}},computed:{},created:function(){},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var o=e.$loading({text:"登录中"});e.$post("login",{name:e.form.name,password:e.form.password}).then(function(t){if(t){var a={};a.token=t,a.over_time=d()((new Date).getTime())+63072e6,localStorage.setItem("gl_cms_token",h()(a)),e.$set(e.$store.state,"gl_cms_token",t),e.goBeforeLoginUrl()}o.close()})})},goBeforeLoginUrl:function(){var t=localStorage.getItem("beforeLoginUrl");t&&-1==t.indexOf("/login")?(localStorage.setItem("beforeLoginUrl","/index"),this.$router.push(t)):this.$router.push("/index")}}}),b=g,v=(o("9faf"),Object(r["a"])(b,p,_,!1,null,"acb06690",null)),y=v.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini",inline:""}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}})],1),o("el-form-item",{attrs:{label:"商品分类",prop:"cat_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_option,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.getGoodsList}},[t._v("搜索")])],1)],1)],1),o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"EditGoods",query:{edit_type:"add",goods_id:"0"}})}}},[t._v("\n\t\t\t添加商品\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"BatchUpdGoodsHeadName"})}}},[t._v("\n\t\t\t批量修改商品头\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"CopyGoodsByParentId"})}}},[t._v("\n\t\t\t通过顶级分类复制商品\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:t.exportExcel}},[t._v("\n\t\t\t导出\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:t.cleanCache}},[t._v("清除缓存")])],1),o("div",{staticClass:"table-box"},[o("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:"","row-class-name":t.rowClassName}},[o("el-table-column",{attrs:{prop:"goods_id",label:"商品id",width:"100"}}),o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"600"}}),o("el-table-column",{attrs:{prop:"shop_price",label:"商品基础价格",width:"200"}}),o("el-table-column",{attrs:{prop:"goods_sales_volume",label:"商品销量",width:"180"}}),o("el-table-column",{attrs:{prop:"evaluate_count",label:"评论总数",width:"180"}}),o("el-table-column",{attrs:{prop:"click_count",label:"点击量",width:"100"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.insEvaluate(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t添加评论\n\t\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.delGoods(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t删除\n\t\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.updGoods(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t编辑\n\t\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.copyGoods(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t复制\n\t\t\t\t\t")]),1===t.tableData[e.$index].is_on_sale?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.endOfSale(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t下架\n\t\t\t\t\t")]):t._e(),0===t.tableData[e.$index].is_on_sale?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.allowSale(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t上架\n\t\t\t\t\t")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看")])]}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getGoodsList,"current-change":t.getGoodsList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},x=[],k=(o("ac6a"),{data:function(){return{tableData:[],page:1,limit:10,count:0,form:{goods_name:"",cat_id:""},fileList:[]}},computed:{cat_option:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e.push({label:"全部",options:[{value:"",label:"所有分类"}]}),e}}},watch:{page:function(t){this.$store.state.page_info_cache.page=t},limit:function(t){this.$store.state.page_info_cache.limit=t},"form.goods_name":function(t){this.$store.state.page_info_cache.goods_name=t},"form.cat_id":function(t){this.$store.state.page_info_cache.cat_id=t}},created:function(){this.page=this.$store.state.page_info_cache.page,this.limit=this.$store.state.page_info_cache.limit,this.form.goods_name=this.$store.state.page_info_cache.goods_name,this.form.cat_id=this.$store.state.page_info_cache.cat_id,this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"see"===this.$route.query.type?(this.form.cat_id=this.$route.query.cat_id,this.getGoodsList()):this.getGoodsList()},methods:{getGoodsList:function(){var t=this,e=this.$loading({text:"获取商品列表"});this.$fetch("cms_get_goods_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit,goods_name:this.form.goods_name,cat_id:this.form.cat_id}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},rowClassName:function(t){if(t.is_promote>0&&d()(1e3*t.promote_start_date)<d()((new Date).getTime())&&d()(1e3*t.promote_end_date)>d()((new Date).getTime()))return"warning-row"},delGoods:function(t,e){var o=this,a=e[t].goods_id;this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"删除中"});o.$post("cms_del_goods",{admin_token:o.$store.state.gl_cms_token,goods_id:a}).then(function(a){a&&(o.$message({type:"success",message:"删除成功!"}),e.splice(t,1)),i.close()})})},endOfSale:function(t,e){var o=this,a=e[t].goods_id;this.$confirm("下架商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"下架中"});o.$post("cms_end_of_sale_goods",{admin_token:o.$store.state.gl_cms_token,goods_id:a}).then(function(e){e&&(o.$message({type:"success",message:"下架成功!"}),o.getGoodsList()),t.close()})})},allowSale:function(t,e){var o=this,a=e[t].goods_id;this.$confirm("上架商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"上架中"});o.$post("cms_allow_sale_goods",{admin_token:o.$store.state.gl_cms_token,goods_id:a}).then(function(e){e&&(o.$message({type:"success",message:"下架成功!"}),o.getGoodsList()),t.close()})})},updGoods:function(t,e){var o=e[t].goods_id;this.$router.push({path:"EditGoods",query:{edit_type:"upd",goods_id:o}})},copyGoods:function(t,e){var o=e[t].goods_id;this.$router.push({path:"EditGoods",query:{edit_type:"copy",goods_id:o}})},insEvaluate:function(t,e){var o=e[t].goods_id;this.$router.push({path:"/AddEvaluate",query:{goods_id:o}})},exportExcel:function(){var t=this;this.$prompt("请输入导出名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"名称不能为空"}).then(function(e){var a=e.value;Promise.resolve().then(function(){var e=o("39a0"),i=e.export_json_to_excel,s=["goods_id","goods_name"],r=["goods_id","goods_name"],n=t.tableData,l=t.formatJson(r,n);i(s,l,a)}.bind(null,o)).catch(o.oe)})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},cleanCache:function(){var t=this,e=this.$loading({text:"处理中"});this.$post("clean_user_goods_list_cache",{admin_token:this.$store.state.gl_cms_token}).then(function(o){o&&t.$message({message:"操作成功",type:"success"}),e.close()})}}}),w=k,C=(o("f36a"),Object(r["a"])(w,$,x,!1,null,"2d97446d",null)),S=C.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"通用信息",name:"goods_currency_info"}},[t.login_flag?o("goodsCurrencyInfo",{ref:"goodsCurrencyInfo",attrs:{edit_type:t.edit_type}}):t._e()],1),o("el-tab-pane",{attrs:{label:"详细描述",name:"goods_desc"}},[t.login_flag?o("goodsDesc",{ref:"goodsDesc",attrs:{edit_type:t.edit_type}}):t._e()],1),o("el-tab-pane",{attrs:{label:"商品相册",name:"goods_gallery"}},[t.login_flag?o("goodsGallery",{ref:"goodsGallery",attrs:{edit_type:t.edit_type}}):t._e()],1),o("el-tab-pane",{attrs:{label:"sku管理",name:"goods_sku"}},[t.login_flag?o("goodsSku",{ref:"goodsSku",attrs:{edit_type:t.edit_type}}):t._e()],1)],1),o("div",{staticClass:"d"}),o("div",{staticClass:"save-form-box"},[o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.saveForm}},[t._v("确认保存")])],1)],1)},E=[],O=o("59ad"),I=o.n(O),z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",rules:t.rules,size:"mini"}},[o("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[o("el-input",{model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}})],1),o("el-form-item",{attrs:{label:"商品名称头"}},[o("el-input",{model:{value:t.form.goods_head_name,callback:function(e){t.$set(t.form,"goods_head_name",e)},expression:"form.goods_head_name"}})],1),o("el-form-item",{attrs:{label:"商品分类",prop:"cat_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_option,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{attrs:{label:"供应商",prop:"supplier_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.supplier_id,callback:function(e){t.$set(t.form,"supplier_id",e)},expression:"form.supplier_id"}},t._l(t.supplier_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型",prop:"click_type"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.click_type,callback:function(e){t.$set(t.form,"click_type",e)},expression:"form.click_type"}},t._l(t.click_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"external"===t.form.click_type,expression:"form.click_type === 'external'"}],attrs:{label:"外链接："}},[o("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),o("el-form-item",{attrs:{label:"销量:"}},[o("el-input-number",{attrs:{min:0,precision:0,controls:!1},model:{value:t.form.goods_sales_volume,callback:function(e){t.$set(t.form,"goods_sales_volume",e)},expression:"form.goods_sales_volume"}})],1),o("el-form-item",{attrs:{label:"评论量:"}},[o("el-input-number",{attrs:{min:0,precision:0,controls:!1},model:{value:t.form.evaluate_count,callback:function(e){t.$set(t.form,"evaluate_count",e)},expression:"form.evaluate_count"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,precision:0,max:999,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}}),o("el-alert",{attrs:{title:"数字越大越靠前显示",type:"warning"}})],1),o("el-form-item",{attrs:{label:"是否秒杀商品"}},[o("el-switch",{attrs:{"active-text":"开启秒杀","active-value":1,"inactive-value":0},model:{value:t.form.is_promote,callback:function(e){t.$set(t.form,"is_promote",e)},expression:"form.is_promote"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.form.is_promote,expression:"form.is_promote === 1"}],attrs:{label:"预计秒杀数量(台)"}},[o("el-input-number",{attrs:{min:1,precision:0},model:{value:t.form.promote_number,callback:function(e){t.$set(t.form,"promote_number",e)},expression:"form.promote_number"}}),o("el-alert",{attrs:{title:"预计秒杀数量 - 该商品sku库存 = 前端显示已抢百分比",type:"warning"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.form.is_promote,expression:"form.is_promote === 1"}],attrs:{label:"秒杀周期",prop:"promote_date"}},[o("el-date-picker",{attrs:{type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.promote_date,callback:function(e){t.$set(t.form,"promote_date",e)},expression:"form.promote_date"}}),o("el-alert",{attrs:{title:"为了保证在秒杀结束之后及时下架商品，请将秒杀时间设置为整点",type:"warning"}})],1),o("el-form-item",{attrs:{label:"是否精品"}},[o("el-switch",{attrs:{"active-text":"是","active-value":1,"inactive-value":0},model:{value:t.form.is_best,callback:function(e){t.$set(t.form,"is_best",e)},expression:"form.is_best"}})],1),o("el-form-item",{attrs:{label:"是否新品"}},[o("el-switch",{attrs:{"active-text":"是","active-value":1,"inactive-value":0},model:{value:t.form.is_new,callback:function(e){t.$set(t.form,"is_new",e)},expression:"form.is_new"}})],1),o("el-form-item",{attrs:{label:"是否热销"}},[o("el-switch",{attrs:{"active-text":"是","active-value":1,"inactive-value":0},model:{value:t.form.is_hot,callback:function(e){t.$set(t.form,"is_hot",e)},expression:"form.is_hot"}})],1),o("el-form-item",{attrs:{label:"是否上架"}},[o("el-switch",{attrs:{"active-text":"是","active-value":1,"inactive-value":0},model:{value:t.form.is_on_sale,callback:function(e){t.$set(t.form,"is_on_sale",e)},expression:"form.is_on_sale"}})],1),o("el-form-item",{attrs:{label:"商品关键词"}},[o("el-input",{attrs:{prop:"keywords"},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}}),o("el-alert",{attrs:{title:"使用 | 进行分割，为了前端美观，单个关键词不建议大于4个字 如：免息分期|岗隆专享",type:"warning"}})],1),o("el-form-item",{attrs:{label:"商品描述信息",prop:"goods_brief"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.form.goods_brief,callback:function(e){t.$set(t.form,"goods_brief",e)},expression:"form.goods_brief"}}),o("el-alert",{attrs:{title:"使用 | 代表换行符",type:"warning"}})],1),o("el-form-item",{attrs:{label:"商品主图"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})]),o("el-alert",{attrs:{title:"只需上传一张,如果你发现图片是空白的，则需要重新上传这张图片",type:"warning"}})],1)],1)],1)])},T=[],L={data:function(){var t=this,e=function(e,o,a){1===t.form.is_promote&&null===t.form.promote_date&&a(new Error("请选择秒杀周期"))};return{form:{goods_name:"",goods_head_name:"",cat_id:"",supplier_id:1,is_promote:0,goods_sales_volume:0,evaluate_count:0,promote_number:0,promote_date:null,is_best:0,is_new:0,is_hot:0,is_on_sale:1,keywords:"",goods_brief:"",goods_img:"",original_img:"",click_type:"inside",url:"",sort_order:10},file_list:[],rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],cat_id:[{required:!0,message:"请选择分类名称",trigger:"blur"}],supplier_id:[{required:!0,message:"请选择供应商",trigger:"blur"}],click_type:[{required:!0,message:"请选择响应类型",trigger:"blur"}],keywords:[{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],goods_brief:[{min:1,max:100,message:"长度在 3 到 100 个字符",trigger:"blur"}],promote_date:[{validator:e,trigger:"blur"}]},supplier_options:[],click_type_options:[{value:"inside",label:"内部流程"},{value:"external",label:"外部链接"}]}},computed:{cat_option:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e}}},props:["edit_type"],created:function(){if(this.$store.state.cat_list.length<1&&this.getCatList(),this.getSupplier(),"upd"===this.edit_type||"copy"===this.edit_type){this.form=this.$store.state.goods_info,1===this.form.is_promote&&this.$set(this.form,"promote_date",new Array(new Date(1e3*this.$store.state.goods_info.promote_start_date).getTime(),new Date(1e3*this.$store.state.goods_info.promote_end_date).getTime()));var t={name:this.form.goods_img,url:this.form.goods_img,original_url:this.form.original_img};this.file_list.push(t)}},methods:{getCatList:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_cat_list",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t.$store.state,"cat_list",o),e.close()})},getSupplier:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_all_supplier",{admin_token:this.$store.state.gl_cms_token}).then(function(o){o.forEach(function(e){t.supplier_options.push({label:e.supplier_name,value:e.id})}),e.close()})},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},checkForm:function(){var t=this,e=!0;return this.$refs["form"].validate(function(o){o||(t.$message.error("表单验证不通过！，检查必要信息是否填写完成"),e=!1)}),e}}},N=L,G=(o("ad5c"),Object(r["a"])(N,z,T,!1,null,"bb46df6e",null)),A=G.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("VueUeditorWrap",{attrs:{config:t.myConfig},model:{value:t.goods_desc,callback:function(e){t.goods_desc=e},expression:"goods_desc"}})],1)},P=[],U=o("6625"),B=o.n(U),j={data:function(){return{goods_desc:"",myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"UEditor/",serverUrl:this.$store.state.api_url+"ueditor_file_upload"}}},computed:{},props:["edit_type"],created:function(){"upd"!==this.edit_type&&"copy"!==this.edit_type||(this.goods_desc=this.$store.state.goods_info.goods_desc)},methods:{},components:{VueUeditorWrap:B.a}},M=j,R=Object(r["a"])(M,q,P,!1,null,"ce1cadce",null),F=R.exports,V=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1)},J=[],W={data:function(){return{}},computed:{file_list:{get:function(){return this.$store.state.goods_gallery},set:function(t){this.$set(this.$store.state,"goods_gallery",t)}}},props:["edit_type"],created:function(){var t=this;if(this.$set(this.$store.state,"goods_gallery",[]),"upd"===this.edit_type||"copy"===this.edit_type){var e=this.$store.state.goods_info.goods_gallery;e.length>0&&e.forEach(function(e){var o={name:e.img_url,url:e.img_url,original_url:e.img_original};t.file_list.push(o)})}},methods:{beforeAvatarUpload:function(t){var e=!0,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t,e,o){var a={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(a)},remove:function(t,e){var o=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(e,a){e.name===t.name&&o.file_list.splice(a,1)})}}},X=W,H=Object(r["a"])(X,V,J,!1,null,"2a982ef8",null),K=H.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("规格")]),o("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.addAttribute}},[t._v("添加规格")])],1),t._l(t.attribute,function(e,a){return o("el-card",{key:a,staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v(t._s(e.attribute_name))]),o("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text"},on:{click:function(e){return t.removeAttribute(a)}}},[t._v("\n\t\t\t\t\t删除此规格\n\t\t\t\t")]),o("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-right":"20px"},attrs:{type:"text"},on:{click:function(e){return t.addAttributeValue(a)}}},[t._v("\n\t\t\t\t\t添加规格项\n\t\t\t\t")])],1),o("div",t._l(e.attribute_value,function(e,i){return o("el-tag",{key:i,attrs:{closable:"",type:"success"},on:{click:function(e){return t.updAttributeValue(a,i)},close:function(e){return t.removeAttributeValue(a,i)}}},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])}),1)])})],2),o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("生成的SKU")])]),o("el-alert",{attrs:{title:"100积分 = 1元人民币",type:"warning"}}),t._l(t.goods_sku_array,function(e,a){return o("div",{key:a,staticClass:"text item"},[o("el-form",{ref:"form",refInFor:!0,attrs:{model:e,"label-width":"80px",inline:"",size:"mini"}},[o("el-form-item",{attrs:{label:""}},[o("el-input",{attrs:{disabled:!0},model:{value:e.sku_desc,callback:function(o){t.$set(e,"sku_desc",o)},expression:"item.sku_desc"}})],1),o("el-form-item",{attrs:{label:"库存:"}},[o("el-input-number",{attrs:{min:0,precision:0,controls:!1},model:{value:e.sku_stock,callback:function(o){t.$set(e,"sku_stock",o)},expression:"item.sku_stock"}}),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向下同步库存",placement:"bottom"}},[0===a&&t.goods_sku_array.length>1?o("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:function(e){return t.synchronization("sku_stock")}}}):t._e()],1)],1),o("el-form-item",{attrs:{label:"赠送积分:"}},[o("el-input-number",{attrs:{min:0,precision:0,controls:!1},model:{value:e.give_integral,callback:function(o){t.$set(e,"give_integral",o)},expression:"item.give_integral"}}),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向下同步赠送积分数量",placement:"bottom"}},[0===a&&t.goods_sku_array.length>1?o("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:function(e){return t.synchronization("give_integral")}}}):t._e()],1)],1),o("el-form-item",{attrs:{label:"可用积分:"}},[o("el-input-number",{attrs:{min:0,precision:0,max:100*e.sku_shop_price,controls:!1},model:{value:e.integral,callback:function(o){t.$set(e,"integral",o)},expression:"item.integral"}}),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向下同步使用积分数量",placement:"bottom"}},[0===a&&t.goods_sku_array.length>1?o("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:function(e){return t.synchronization("integral")}}}):t._e()],1)],1),o("el-form-item",{attrs:{label:"销售价:"}},[o("el-input-number",{attrs:{min:0,precision:2,controls:!1},on:{change:function(e){return t.$forceUpdate()}},model:{value:e.sku_shop_price,callback:function(o){t.$set(e,"sku_shop_price",o)},expression:"item.sku_shop_price"}}),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向下同步销售价",placement:"bottom"}},[0===a&&t.goods_sku_array.length>1?o("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:function(e){return t.synchronization("sku_shop_price")}}}):t._e()],1)],1),o("el-form-item",{attrs:{label:"划线价:"}},[o("el-input-number",{attrs:{min:e.sku_shop_price,precision:2,controls:!1},model:{value:e.sku_market_price,callback:function(o){t.$set(e,"sku_market_price",o)},expression:"item.sku_market_price"}}),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向下同步划线价",placement:"bottom"}},[0===a&&t.goods_sku_array.length>1?o("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:function(e){return t.synchronization("sku_market_price")}}}):t._e()],1)],1),o("el-form-item",{attrs:{label:""}},[o("div",{staticClass:"img-url-box"},[o("div",{staticClass:"img-url"},[o("img",{attrs:{src:e.img_url,alt:""}})]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.showDialog(a)}}},[t._v("选择图片")])],1)])],1)],1)})],2),o("el-dialog",{attrs:{title:"点击选择一张照片",visible:t.dialog_visible},on:{"update:visible":function(e){t.dialog_visible=e}}},[o("div",{staticClass:"dialog-goods-gallery-box"},t._l(t.goods_gallery,function(e,a){return o("div",{key:a,staticClass:"one-img",on:{click:function(o){return t.selectSkuImg(e.url,e.original_url)}}},[o("img",{attrs:{src:e.url,alt:""}})])}),0)])],1)},Y=[],Z=(o("55dd"),o("28a5"),o("a745")),tt=o.n(Z),et={data:function(){return{attribute:[],login_flag:!1,dialog_visible:!1,goods_sku_array_index:0}},computed:{goods_sku_array:{get:function(){var t=[];this.attribute.forEach(function(e){if(0===t.length)t=e.attribute_value;else{var o=[];t.forEach(function(t){e.attribute_value.forEach(function(e){o.push([t,e])})}),t=o}});var e=[];if(this.login_flag){var o=this.$store.state.goods_info.goods_sku,a=[];o.length>0&&o.forEach(function(t){var e={sku_desc:t.sku_desc,img_url:t.img_url,original_img_url:t.original_img_url,give_integral:d()(t.give_integral),integral:d()(t.integral),sku_shop_price:I()(t.sku_shop_price),sku_market_price:I()(t.sku_market_price),sku_stock:d()(t.sku_stock)};a.push(e)}),e=a,this.login_flag=!1}else t.forEach(function(t){tt()(t)?e.push({sku_desc:t.join(","),sku_stock:0,give_integral:0,integral:0,sku_shop_price:0,img_url:"",original_img_url:"",sku_market_price:0}):e.push({sku_desc:t,sku_stock:0,give_integral:0,integral:0,img_url:"",original_img_url:"",sku_shop_price:0,sku_market_price:0})});return this.sortChinese(e,"sku_desc"),e},set:function(){}},goods_gallery:{get:function(){return this.$store.state.goods_gallery}}},watch:{goods_sku_array:function(t,e){var o=this;t.forEach(function(t,a){e.forEach(function(e){t.sku_desc===e.sku_desc&&(o.goods_sku_array[a]=e)})}),this.$forceUpdate()}},props:["edit_type"],created:function(){"upd"!==this.edit_type&&"copy"!==this.edit_type||(""!==this.$store.state.goods_info.attribute&&null!==this.$store.state.goods_info.attribute?this.attribute=this.$store.state.goods_info.attribute:this.attribute=[],this.login_flag=!0)},methods:{addAttribute:function(){var t=this;this.$prompt("请输入规格名称（如：颜色）","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"名称不能为空"}).then(function(e){var o=e.value,a=!0;if(t.attribute.length>0&&t.attribute.forEach(function(e){e.attribute_name===o&&(a=!1,t.$message.error("规格名称重复"))}),a){var i={attribute_name:o,attribute_value:[]};t.attribute.push(i)}})},removeAttribute:function(t){this.attribute.splice(t,1)},addAttributeValue:function(t){var e=this;this.$prompt("请输入规格项名称（如：金色）","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"名称不能为空"}).then(function(o){var a=o.value,i=!0;e.attribute[t].attribute_value.length>0&&e.attribute[t].attribute_value.forEach(function(t){t===a&&(i=!1,e.$message.error("规格项名称重复"))}),i&&e.attribute[t].attribute_value.push(a)})},removeAttributeValue:function(t,e){this.attribute[t].attribute_value.splice(e,1)},synchronization:function(t){var e=this;"sku_stock"===t?this.goods_sku_array.forEach(function(t,o){0!==o&&e.$set(e.goods_sku_array[o],"sku_stock",e.goods_sku_array[0].sku_stock)}):"sku_shop_price"===t?this.goods_sku_array.forEach(function(t,o){0!==o&&e.$set(e.goods_sku_array[o],"sku_shop_price",e.goods_sku_array[0].sku_shop_price)}):"sku_market_price"===t?this.goods_sku_array.forEach(function(t,o){0!==o&&e.$set(e.goods_sku_array[o],"sku_market_price",e.goods_sku_array[0].sku_market_price)}):"give_integral"===t?this.goods_sku_array.forEach(function(t,o){0!==o&&e.$set(e.goods_sku_array[o],"give_integral",e.goods_sku_array[0].give_integral)}):"integral"===t&&this.goods_sku_array.forEach(function(t,o){0!==o&&e.$set(e.goods_sku_array[o],"integral",e.goods_sku_array[0].integral)}),this.$forceUpdate()},showDialog:function(t){this.dialog_visible=!0,this.goods_sku_array_index=t},selectSkuImg:function(t,e){this.$set(this.goods_sku_array[this.goods_sku_array_index],"img_url",t),this.$set(this.goods_sku_array[this.goods_sku_array_index],"original_img_url",e),this.dialog_visible=!1},updAttributeValue:function(t,e){var o=this;this.$prompt("请输入规格项名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"名称不能为空",inputPlaceholder:this.attribute[t].attribute_value[e]}).then(function(a){var i=a.value,s=!0;o.attribute[t].attribute_value.length>0&&o.attribute[t].attribute_value.forEach(function(t){t===i&&(s=!1,o.$message.error("规格项名称重复"))}),s&&o.$set(o.attribute[t].attribute_value,e,i)})},sortChinese:function(t,e){function o(t){if(!e)return t;var o=t;return e.split(".").filter(function(t){o=o[t]}),o+""}t.sort(function(t,e){return o(t).localeCompare(o(e),"zh-CN")})}},components:{}},ot=et,at=(o("0997"),Object(r["a"])(ot,Q,Y,!1,null,"42dc5f25",null)),it=at.exports,st={data:function(){return{activeName:"goods_currency_info",goods_id:0,edit_type:"add",login_flag:!1}},computed:{ins_evaluate_button_flag:{get:function(){var t=!1;return"upd"!==this.edit_type&&"copy"!==this.edit_type||!this.login_flag||(t=!0),t}}},created:function(){this.goods_id=d()(this.$route.query.goods_id),this.edit_type=this.$route.query.edit_type,"upd"===this.edit_type||"copy"===this.edit_type?this.getGoodsInfo():this.login_flag=!0},methods:{saveForm:function(){var t=this,e=!0;e=this.$refs.goodsCurrencyInfo.checkForm();var o=this.$refs.goodsSku.goods_sku_array,a=this.$refs.goodsGallery.file_list,i=this.$refs.goodsSku.attribute;if(i.forEach(function(o){o.attribute_value.length<1&&(e=!1,t.$message.error("商品规格下面缺少规格项"))}),o.length<1&&(e=!1,this.$message.error("你需要添加至少一个sku")),o.forEach(function(o){I()(o.integral)>I()(100*o.sku_shop_price)&&(e=!1,t.$message.error("可使用积分大于销售价格，请检查")),I()(o.sku_market_price)<I()(o.sku_shop_price)&&(e=!1,t.$message.error("划线价格小于销售价格，请检查"))}),a.length<1&&(e=!1,this.$message.error("你需要至少上传一张图片至商品相册中")),e){var s=JSON.parse(h()(this.$refs.goodsCurrencyInfo.form));null!==s.promote_date&&1===s.is_promote?(s.promote_start_date=d()(s.promote_date[0])/1e3,s.promote_end_date=d()(s.promote_date[1])/1e3):(s.promote_start_date=0,s.promote_end_date=0),this.$refs.goodsCurrencyInfo.file_list.length>0&&(s.goods_img=this.$refs.goodsCurrencyInfo.file_list[0].url,s.original_img=this.$refs.goodsCurrencyInfo.file_list[0].original_url),s.goods_desc=this.$refs.goodsDesc.goods_desc,s.goods_gallery=this.$refs.goodsGallery.file_list,s.goods_sku_array=[],o.forEach(function(t){var e={sku_desc:t.sku_desc,sku_stock:t.sku_stock,sku_shop_price:t.sku_shop_price,sku_market_price:t.sku_market_price,give_integral:t.give_integral,integral:t.integral,img_url:t.img_url,original_img_url:t.original_img_url};s.goods_sku_array.push(e)}),s.attribute=this.$refs.goodsSku.attribute,s.admin_token=this.$store.state.gl_cms_token,"add"===this.edit_type||"copy"===this.edit_type?this.addGoods(s):"upd"===this.edit_type&&this.updGoods(s)}},addGoods:function(t){var e=this,o=this.$loading({text:"添加中"});this.$post("cms_add_goods",t).then(function(t){t?(e.$router.go(-1),e.$message({type:"success",message:"添加成功!"})):e.$message.error("添加失败"),o.close()})},updGoods:function(t){var e=this,o=this.$loading({text:"更新中"});this.$post("cms_upd_goods",t).then(function(t){t?(e.$router.go(-1),e.$message({type:"success",message:"更新成功!"})):e.$message.error("更新失败"),o.close()})},getGoodsInfo:function(){var t=this,e=this.$loading({text:"获取商品信息"});this.$fetch("cms_get_goods_info",{admin_token:this.$store.state.gl_cms_token,goods_id:this.goods_id}).then(function(o){t.$set(t.$store.state,"goods_info",o),t.login_flag=!0,e.close()})}},components:{goodsCurrencyInfo:A,goodsDesc:F,goodsGallery:K,goodsSku:it}},rt=st,nt=(o("ac47"),Object(r["a"])(rt,D,E,!1,null,"353265b2",null)),lt=nt.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"商品名称头",prop:"goods_head_name"}},[o("el-input",{model:{value:t.form.goods_head_name,callback:function(e){t.$set(t.form,"goods_head_name",e)},expression:"form.goods_head_name"}})],1),o("el-form-item",{attrs:{label:"顶级分类名称",prop:"parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)},ut=[],dt={data:function(){return{form:{goods_head_name:"",parent_id:""},rules:{goods_head_name:[{required:!0,message:"请输入商品名称头",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],parent_id:[{required:!0,message:"请选择顶级分类",trigger:"blur"}]}}},computed:{options:{get:function(){var t=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(e){0===e.parent_id&&t.push({value:e.cat_id,label:e.cat_name})}),t}}},created:function(){this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token)},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o=t.$loading({text:"处理中"}),a="cms_batch_upd_goods_head_name";t.$post(a,{admin_token:t.$store.state.gl_cms_token,goods_head_name:t.form.goods_head_name,parent_id:t.form.parent_id}).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),o.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})}}},mt=dt,pt=(o("41b4"),Object(r["a"])(mt,ct,ut,!1,null,"5336ef7a",null)),_t=pt.exports,ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"父级分类",prop:"parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"复制到",prop:"to_parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.to_parent_id,callback:function(e){t.$set(t.form,"to_parent_id",e)},expression:"form.to_parent_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("开始复制")])],1)],1)],1),o("el-alert",{attrs:{title:"分类复制操作需要一定时间，请不要离开或关闭窗口，以免造成数据错乱",type:"warning"}})],1)},ht=[],gt={data:function(){return{form:{parent_id:"",to_parent_id:""},rules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],sort_order:[{required:!0,message:"请输入排序",trigger:"blur"}],parent_id:[{required:!0,message:"请选择父级分类",trigger:"blur"}],to_parent_id:[{required:!0,message:"请选择复制到那个分类",trigger:"blur"}]},edit_type:"",cat_id:0}},computed:{options:{get:function(){var t=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(e){0===e.parent_id&&t.push({value:e.cat_id,label:e.cat_name})}),t}}},created:function(){this.$store.state.cat_list.length<1&&this.getCatList()},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e)if(t.form.parent_id===t.form.to_parent_id)t.$message.error("自己复制到自己？？？？");else{var o=t.$loading({text:"正在复制请勿离开"});t.$post("cms_copy_goods_by_parent_id?XDEBUG_SESSION_START=1476",{admin_token:t.$store.state.gl_cms_token,parent_id:t.form.parent_id,to_parent_id:t.form.to_parent_id}).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$set(t.$store.state,"cat_list",[]),t.$router.go(-1)),o.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})},getCatList:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_cat_list",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t.$store.state,"cat_list",o),e.close()})}}},bt=gt,vt=(o("af45"),Object(r["a"])(bt,ft,ht,!1,null,"3ceee08c",null)),yt=vt.exports,$t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"EditCat",query:{edit_type:"add",cat_id:"0"}})}}},[t._v("\n\t\t\t添加分类\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:t.cleanCache}},[t._v("清除缓存")])],1),o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"cat_id",label:"分类id",width:"100"}}),o("el-table-column",{attrs:{prop:"cat_name",label:"分类名称",width:"600"}}),o("el-table-column",{attrs:{prop:"parent_id",label:"父分类id",width:"600"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.delCat(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t删除分类\n\t\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.updCat(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t编辑分类\n\t\t\t\t\t")]),0!==t.tableData[e.$index].parent_id?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.shearGoodsBycatId(e.$index,t.tableData)}}},[t._v("转移商品\n\t\t\t\t\t")]):t._e(),0!==t.tableData[e.$index].parent_id?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.SeeGoodsByCatId(e.$index,t.tableData)}}},[t._v("查看下属商品\n\t\t\t\t\t")]):t._e()]}}])})],1)],1),o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getCatList,"current-change":t.getCatList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)},xt=[],kt={data:function(){return{tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getCatList()},methods:{getCatList:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_cat_list_by_page",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},delCat:function(t,e){var o=this,a=e[t].cat_id;this.$confirm("此操作将永久删除该分类和该分类下的所有商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"删除中"});o.$post("cms_del_cat",{admin_token:o.$store.state.gl_cms_token,cat_id:a}).then(function(e){e&&(o.$message({type:"success",message:"删除成功!"}),o.getCatList(),o.$set(o.$store.state,"cat_list",[])),t.close()})})},shearGoodsBycatId:function(t,e){var o=e[t].cat_id;this.$router.push({path:"ShearOrCopyGoods",query:{move_type:"转移",cat_id:o}})},copyGoodsBycatId:function(t,e){var o=e[t].cat_id;this.$router.push({path:"ShearOrCopyGoods",query:{move_type:"复制",cat_id:o}})},updCat:function(t,e){var o=e[t].parent_id,a=e[t].cat_name,i=e[t].cat_id,s=e[t].sort_order;this.$router.push({path:"EditCat",query:{edit_type:"upd",parent_id:o,cat_name:a,cat_id:i,sort_order:s}})},SeeGoodsByCatId:function(t,e){var o=e[t].cat_id;this.$router.push({path:"GoodsList",query:{type:"see",cat_id:o}})},cleanCache:function(){var t=this,e=this.$loading({text:"处理中"});this.$post("clean_user_cat_list_cache",{admin_token:this.$store.state.gl_cms_token}).then(function(o){o&&t.$message({message:"操作成功",type:"success"}),e.close()})}}},wt=kt,Ct=Object(r["a"])(wt,$t,xt,!1,null,null,null),St=Ct.exports,Dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[o("el-input",{model:{value:t.form.cat_name,callback:function(e){t.$set(t.form,"cat_name",e)},expression:"form.cat_name"}})],1),o("el-form-item",{attrs:{label:"排序:",prop:"sort_order"}},[o("el-input-number",{attrs:{min:1,precision:0,max:999,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-alert",{attrs:{title:"数字越大越靠前显示",type:"warning"}}),o("el-form-item",{attrs:{label:"父级分类",prop:"parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)])},Et=[],Ot={data:function(){return{form:{cat_name:"",parent_id:0,sort_order:10},rules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],sort_order:[{required:!0,message:"请输入排序",trigger:"blur"}],parent_id:[{required:!0,message:"请选择父级分类",trigger:"blur"}]},edit_type:"",cat_id:0}},computed:{options:{get:function(){var t=[];return this.$store.state.cat_list.length>0&&(this.$store.state.cat_list.forEach(function(e){0===e.parent_id&&t.push({value:e.cat_id,label:e.cat_name})}),t.push({value:0,label:"顶级分类"})),t}}},created:function(){this.$store.state.cat_list.length<1&&this.getCatList(),this.edit_type=this.$route.query.edit_type,"upd"===this.edit_type&&(this.form.cat_name=this.$route.query.cat_name,this.form.parent_id=this.$route.query.parent_id,this.form.sort_order=this.$route.query.sort_order,this.cat_id=this.$route.query.cat_id)},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o=t.$loading({text:"处理中"}),a="cms_add_cat";"upd"===t.edit_type&&(a="cms_upd_cat"),t.$post(a,{admin_token:t.$store.state.gl_cms_token,cat_name:t.form.cat_name,parent_id:t.form.parent_id,sort_order:t.form.sort_order,cat_id:t.cat_id}).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$set(t.$store.state,"cat_list",[]),t.$router.go(-1)),o.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})},getCatList:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_cat_list",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t.$store.state,"cat_list",o),e.close()})}}},It=Ot,zt=(o("6fe2"),Object(r["a"])(It,Dt,Et,!1,null,"75fe0e84",null)),Tt=zt.exports,Lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:t.move_type+"到分类",prop:"parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.aim_cat_id,callback:function(e){t.$set(t.form,"aim_cat_id",e)},expression:"form.aim_cat_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s("确认"+this.move_type+"商品"))])],1)],1)],1)])},Nt=[],Gt={data:function(){return{form:{aim_cat_id:""},rules:{aim_cat_id:[{required:!0,message:"请选择分类",trigger:"blur"}]},move_type:"复制",cat_id:""}},computed:{options:{get:function(){var t=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(e){0!==e.parent_id&&t.push({value:e.cat_id,label:e.cat_name})}),t}}},created:function(){this.$store.state.cat_list.length<1&&this.getCatList(),this.move_type=this.$route.query.move_type,this.cat_id=this.$route.query.cat_id},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o="";"转移"===t.move_type?o="cms_shear_goods_by_catid":"复制"===t.move_type&&(o="cms_copy_goods_by_catid");var a=t.$loading({text:"处理中"});t.$post(o,{admin_token:t.$store.state.gl_cms_token,cat_id:t.cat_id,aim_cat_id:t.form.aim_cat_id}).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),a.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})},getCatList:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_cat_list",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t.$store.state,"cat_list",o),e.close()})}}},At=Gt,qt=(o("1c43"),Object(r["a"])(At,Lt,Nt,!1,null,"09cd03ad",null)),Pt=qt.exports,Ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("\n\t\t\t添加供应商\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"supplier_name",label:"供应商名称",width:"150"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"company_name",label:"公司名称",width:"300"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"service_tel",label:"服务电话",width:"120"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"after_sale_tel",label:"售后电话",width:"120"}}),o("el-table-column",{attrs:{prop:"describe_rate",label:"宝贝评分",width:"80"}}),o("el-table-column",{attrs:{prop:"service_rate",label:"售后评分",width:"80"}}),o("el-table-column",{attrs:{prop:"logistics_rate",label:"物流评分",width:"80"}}),o("el-table-column",{attrs:{prop:"follow_number",label:"关注人数",width:"100"}}),o("el-table-column",{attrs:{label:"主题色",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[t._v("颜色: "+t._s(e.row.colour))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium",color:e.row.colour}})],1)])]}}])}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===t.tableData[e.$index].allow_del?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除\n\t\t\t\t")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.upd(e.$index,t.tableData)}}},[t._v("编辑\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.showImg(e.$index,t.tableData,"logo")}}},[t._v("查看logo\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.showImg(e.$index,t.tableData,"head")}}},[t._v("查看头图\n\t\t\t\t")])]}}])})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_url,alt:""}})])],1)},Bt=[],jt={data:function(){return{path:"/EditSupplier",tableData:[],dialogVisible:!1,img_url:""}},computed:{},created:function(){this.getList()},methods:{add:function(){this.$router.push({path:this.path,query:{edit_type:"add"}})},upd:function(t,e){this.$router.push({path:this.path,query:{edit_type:"upd",info:h()(e[t])}})},del:function(t,e){var o=this,a=e[t].id;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_supplier",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_all_supplier",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t,"tableData",o),e.close()})},showImg:function(t,e,o){switch(o){case"logo":this.img_url=e[t].logo_img;break;case"head":this.img_url=e[t].head_img;break}this.dialogVisible=!0}}},Mt=jt,Rt=Object(r["a"])(Mt,Ut,Bt,!1,null,"4cf35fb7",null),Ft=Rt.exports,Vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"供应商名称"}},[o("el-input",{attrs:{placeholder:"岗隆数码专营店"},model:{value:t.form.supplier_name,callback:function(e){t.$set(t.form,"supplier_name",e)},expression:"form.supplier_name"}})],1),o("el-form-item",{attrs:{label:"公司名称"}},[o("el-input",{attrs:{placeholder:"江苏岗隆数码科技有限公司"},model:{value:t.form.company_name,callback:function(e){t.$set(t.form,"company_name",e)},expression:"form.company_name"}})],1),o("el-form-item",{attrs:{label:"主题色"}},[o("el-color-picker",{model:{value:t.form.colour,callback:function(e){t.$set(t.form,"colour",e)},expression:"form.colour"}})],1),o("el-form-item",{attrs:{label:"服务电话"}},[o("el-input",{attrs:{placeholder:"4008282323"},model:{value:t.form.service_tel,callback:function(e){t.$set(t.form,"service_tel",e)},expression:"form.service_tel"}})],1),o("el-form-item",{attrs:{label:"售后电话"}},[o("el-input",{attrs:{placeholder:"0510-80336188-8002"},model:{value:t.form.after_sale_tel,callback:function(e){t.$set(t.form,"after_sale_tel",e)},expression:"form.after_sale_tel"}})],1),o("el-form-item",{attrs:{label:"宝贝评分:"}},[o("el-input-number",{attrs:{min:1,max:5,precision:1,controls:!1},model:{value:t.form.describe_rate,callback:function(e){t.$set(t.form,"describe_rate",e)},expression:"form.describe_rate"}})],1),o("el-form-item",{attrs:{label:"售后评分:"}},[o("el-input-number",{attrs:{min:1,max:5,precision:1,controls:!1},model:{value:t.form.service_rate,callback:function(e){t.$set(t.form,"service_rate",e)},expression:"form.service_rate"}})],1),o("el-form-item",{attrs:{label:"物流评分:"}},[o("el-input-number",{attrs:{min:1,max:5,precision:1,controls:!1},model:{value:t.form.logistics_rate,callback:function(e){t.$set(t.form,"logistics_rate",e)},expression:"form.logistics_rate"}})],1),o("el-form-item",{attrs:{label:"关注人数:"}},[o("el-input-number",{attrs:{min:1,max:9999999,precision:0,controls:!1},model:{value:t.form.follow_number,callback:function(e){t.$set(t.form,"follow_number",e)},expression:"form.follow_number"}})],1),o("el-form-item",{attrs:{label:"logo"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.logoUploadSuccess,"on-remove":t.logoRemove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.logo_file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",{attrs:{label:"头图"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.headUploadSuccess,"on-remove":t.headRemove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.head_img_file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)},Jt=[],Wt={data:function(){return{form:{supplier_name:"",company_name:"",colour:"#EB1912",service_tel:"",after_sale_tel:"",describe_rate:5,service_rate:5,logistics_rate:5,follow_number:2e4,logo_img:"",head_img:""},rules:{},logo_file_list:[],head_img_file_list:[]}},computed:{},created:function(){"upd"===this.$route.query.edit_type&&(this.form=JSON.parse(this.$route.query.info),this.logo_file_list.push({name:this.form.logo_img,url:this.form.logo_img}),this.head_img_file_list.push({name:this.form.head_img,url:this.form.head_img}))},methods:{beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},logoUploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.logo_file_list.push(e)},headUploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.head_img_file_list.push(e)},logoRemove:function(t){var e=this;this.logo_file_list.length>0&&"success"===t.status&&this.logo_file_list.forEach(function(o,a){o.name===t.name&&e.logo_file_list.splice(a,1)})},headRemove:function(t){var e=this;this.head_img_file_list.length>0&&"success"===t.status&&this.head_img_file_list.forEach(function(o,a){o.name===t.name&&e.head_img_file_list.splice(a,1)})},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.logo_img=0===this.logo_file_list.length?"":this.logo_file_list[0].url,t.head_img=0===this.head_img_file_list.length?"":this.head_img_file_list[0].url,"add"===this.$route.query.edit_type?this.add(t):"upd"===this.$route.query.edit_type&&this.upd(t)},add:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_supplier",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},upd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_supplier",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},Xt=Wt,Ht=(o("e2fc"),Object(r["a"])(Xt,Vt,Jt,!1,null,"77135b08",null)),Kt=Ht.exports,Qt=function(){var t=this,e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"orderListMain"},[a("el-container",[a("el-main",[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{model:{value:e.form.order_sn,callback:function(t){e.$set(e.form,"order_sn",t)},expression:"form.order_sn"}})],1),a("el-form-item",{attrs:{label:"收件人姓名"}},[a("el-input",{model:{value:e.form.logistics_address_name,callback:function(t){e.$set(e.form,"logistics_address_name",t)},expression:"form.logistics_address_name"}})],1),a("el-form-item",{attrs:{label:"收件人手机号"}},[a("el-input",{model:{value:e.form.logistics_address_phone,callback:function(t){e.$set(e.form,"logistics_address_phone",t)},expression:"form.logistics_address_phone"}})],1),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.order_state,callback:function(t){e.$set(e.form,"order_state",t)},expression:"form.order_state"}},e._l(e.order_state_option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.cat_id,callback:function(t){e.$set(e.form,"cat_id",t)},expression:"form.cat_id"}},e._l(e.cat_option,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),a("el-form-item",{attrs:{label:"订单入口"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.son_into_type,callback:function(t){e.$set(e.form,"son_into_type",t)},expression:"form.son_into_type"}},e._l(e.son_into_type_option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goSearch(!0,e.page,e.limit)}}},[e._v("搜索")])],1)],1)],1),a("div",{staticClass:"button-box"},[a("el-form",{ref:"form",attrs:{model:e.importForm,"label-width":"120px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.importForm.order_state,callback:function(t){e.$set(e.importForm,"order_state",t)},expression:"importForm.order_state"}},e._l(e.order_state_option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.cat_id,callback:function(t){e.$set(e.form,"cat_id",t)},expression:"form.cat_id"}},e._l(e.cat_option,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),a("el-form-item",{attrs:{label:"订单入口"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.importForm.son_into_type,callback:function(t){e.$set(e.importForm,"son_into_type",t)},expression:"importForm.son_into_type"}},e._l(e.son_into_type_option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.importForm.date,callback:function(t){e.$set(e.importForm,"date",t)},expression:"importForm.date"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.importOrder}},[e._v("导出订单")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"order_sn",label:"订单号",width:"180"}}),a("el-table-column",{attrs:{prop:"son_into_type_name",label:"订单入口",width:"120"}}),a("el-table-column",{attrs:{prop:"cat_name",label:"分类",width:"120"}}),a("el-table-column",{attrs:{prop:"order_price",label:"订单金额",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{label:"订单状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e.order_state_info[t.row.order_state]))])]}}])}),a("el-table-column",{attrs:{prop:"logistics_name",label:"收件人",width:"100"}}),a("el-table-column",{attrs:{prop:"logistics_tel",label:"手机号",width:"180"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.seeOrder(t.$index,e.tableData)}}},[e._v("查看\n              ")]),1===e.tableData[t.$index].order_state?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.callOrder(t.$index,e.tableData)}}},[e._v("取消订单\n              ")]):e._e(),0===e.tableData[t.$index].order_state?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.delOrder(t.$index,e.tableData)}}},[e._v("删除订单\n              ")]):e._e(),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.payQuery(t.$index,e.tableData)}}},[e._v("支付查询\n              ")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.toEditLogistics(t.$index,e.tableData)}}},[e._v("编辑物流\n              ")]),2===e.tableData[t.$index].order_state||4===e.tableData[t.$index].order_state?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.changeOrderStateAfterSale(t.$index,e.tableData)}}},[e._v("申请售后\n              ")]):e._e()]}}])})],1)],1)]),a("el-footer",[a("div",{staticClass:"my-el-pagination"},[e.showPagination?a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,40],"page-size":e.limit,layout:"sizes, prev, pager, next",total:e.count},on:{"size-change":function(t){e.goSearch(!0,1,t)},"current-change":function(o){e.goSearch(!1,o,t.limit)}}}):e._e()],1)])],1)],1)},Yt=[],Zt=o("85f2"),te=o.n(Zt),ee=o("4aa6"),oe=o.n(ee),ae=(o("a481"),o("a4bb")),ie=o.n(ae),se=o("1b98"),re={name:"OrderList",data:function(){return{showPagination:!0,form:{order_sn:"",logistics_address_name:"",logistics_address_phone:"",order_state:"all",son_into_type:"all",car_id:0},importForm:{order_state:"all",son_into_type:"all",date:"",car_id:0},order_state_option:[{value:"all",label:"所有订单"},{value:"pending_pay",label:"待支付订单"},{value:"pending_delivery",label:"待发货"},{value:"pending_take",label:"待收货"},{value:"pending_service",label:"退换售后"}],son_into_type_option:[{value:"all",label:"所有入口"},{value:"wx",label:"微信入口"},{value:"abc_wx",label:"农行公众号"},{value:"abc_app",label:"农行app"},{value:"ios",label:"ios客户端"},{value:"android",label:"android客户端"},{value:"pc",label:"pc端"}],tableData:[],page:1,limit:10,count:0,order_state_info:{0:"已取消",1:"未支付",2:"已支付未发货",3:"已支付已发货",4:"已支付已收货",5:"已评价",6:"申请售后",7:"售后失败",8:"售后成功"}}},computed:{cat_option:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e.push({label:"全部",options:[{value:0,label:"所有分类"}]}),e}}},created:function(){this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token)},beforeRouteEnter:function(t,e,o){o(function(e){e.urlUpdate(t)})},beforeRouteUpdate:function(t,e,o){this.urlUpdate(t),o()},methods:{urlUpdate:function(t){if(t&&t.query&&0!==ie()(t.query).length)for(var e in this.$set(this,"page",d()(t.query.page)),this.$set(this,"limit",d()(t.query.limit)),t.query)this.form.hasOwnProperty(e)&&t.query[e]&&(this.form[e]=t.query[e]);else this.page=1,this.limit=10;this.getList()},getList:function(){var t=this;this.showPagination=!1;var e=this.$loading({text:"加载中"});this.$fetch("cms_get_order_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit,order_sn:this.form.order_sn.replace(/\s+/g,""),logistics_address_name:this.form.logistics_address_name.replace(/\s+/g,""),logistics_address_phone:this.form.logistics_address_phone.replace(/\s+/g,""),order_state:this.form.order_state.replace(/\s+/g,""),son_into_type:this.form.son_into_type.replace(/\s+/g,""),cat_id:this.form.cat_id}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),t.showPagination=!0,e.close()})},goSearch:function(t,e,o){var a=oe()(this.form);te()(a,"page",{value:e,enumerable:!0}),te()(a,"limit",{value:o,enumerable:!0}),this.$router.push({path:"/OrderList",query:a})},importOrder:function(){var t=this;if(!this.importForm.date)return this.$message({message:"请选择下单日期",type:"warning"}),!1;var e=this.$loading({text:"导出中"});this.$fetch("cms_import_order_list",{admin_token:this.$store.state.gl_cms_token,order_state:this.importForm.order_state.replace(/\s+/g,""),son_into_type:this.importForm.son_into_type.replace(/\s+/g,""),start_time:Date.parse(this.importForm.date[0])/1e3,end_time:Date.parse(this.importForm.date[1])/1e3+86400,cat_id:this.importForm.car_id}).then(function(o){var a=t.frontImportOrder(o.list),i={filename:"importOrderList",sheet:{data:a}};Object(se["a"])(i),e.close()})},frontImportOrder:function(t){var e=this,o=[];return o.push([{value:"订单号",type:"string"},{value:"订单状态",type:"string"},{value:"下单时间",type:"string"},{value:"付款时间",type:"string"},{value:"付款方式",type:"string"},{value:"订单金额",type:"string"},{value:"使用优惠券金额",type:"string"},{value:"实际付款金额",type:"string"},{value:"收件人",type:"string"},{value:"手机号",type:"string"},{value:"地址",type:"string"},{value:"商品分类",type:"string"},{value:"订单入口",type:"string"}]),t instanceof Array&&t.length>0&&t.forEach(function(t){o.push([{value:t.order_sn,type:"string"},{value:e.order_state_info[t.order_state],type:"string"},{value:t.create_time,type:"string"},{value:t.pay_time,type:"string"},{value:t.pay_name+t.bystages_val,type:"string"},{value:t.original_order_price,type:"string"},{value:(I()(t.original_order_price)-I()(t.after_using_coupon_price)).toFixed(2),type:"string"},{value:t.order_price,type:"string"},{value:t.logistics_name,type:"string"},{value:t.logistics_tel,type:"string"},{value:t.logistics_address,type:"string"},{value:t.cat_name,type:"string"},{value:t.son_into_type_name,type:"string"}])}),o},callOrder:function(t,e){var o=this,a=e[t].order_sn;this.$confirm("确认取消订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"处理中"});o.$post("cms_call_order",{admin_token:o.$store.state.gl_cms_token,order_sn:a}).then(function(e){e&&(o.$message({type:"success",message:"处理成功!"}),o.getList()),t.close()})})},delOrder:function(t,e){var o=this,a=e[t].order_sn;this.$confirm("确认删除订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"处理中"});o.$post("cms_del_order",{admin_token:o.$store.state.gl_cms_token,order_sn:a}).then(function(e){e&&(o.$message({type:"success",message:"处理成功!"}),o.getList()),t.close()})})},payQuery:function(t,e){var o=this,a=e[t].order_sn;this.$confirm("请勿频繁操作","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"处理中"});o.$fetch("cms_pay_query",{admin_token:o.$store.state.gl_cms_token,order_sn:a}).then(function(e){t.close(),o.$alert(e,"查询结果",{confirmButtonText:"确定"})})})},changeOrderStateAfterSale:function(t,e){var o=this,a=e[t].order_sn;this.$confirm("如非必要，请勿主动更改订单状态","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"处理中"});o.$post("cms_change_order_state_after_sale",{admin_token:o.$store.state.gl_cms_token,order_sn:a}).then(function(e){t.close(),e&&o.$message({type:"success",message:"处理成功!"})})})},toEditLogistics:function(t,e){var o=e[t];this.$router.push({path:"/EditLogistics",query:{order_sn:o.order_sn}})},seeOrder:function(t,e){this.$router.push({path:"/seeOrder",query:{order_sn:e[t].order_sn}})}}},ne=re,le=(o("774d"),Object(r["a"])(ne,Qt,Yt,!1,null,"80ac4b92",null)),ce=le.exports,ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"make_order_sn",label:"订单号",width:"180"}}),o("el-table-column",{attrs:{prop:"make_state",label:"处理状态",width:"80"}}),o("el-table-column",{attrs:{prop:"goods_id",label:"商品id",width:"80"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"goods_name",label:"商品名称",width:"150"}}),o("el-table-column",{attrs:{prop:"sku_desc",label:"预约规格",width:"150"}}),o("el-table-column",{attrs:{prop:"goods_number",label:"预约数量",width:"80"}}),o("el-table-column",{attrs:{prop:"make_order_price",label:"预约价格",width:"100"}}),o("el-table-column",{attrs:{prop:"make_name",label:"姓名",width:"100"}}),o("el-table-column",{attrs:{prop:"make_phone",label:"电话",width:"150"}}),o("el-table-column",{attrs:{prop:"make_time",label:"时间",width:"180"}}),o("el-table-column",{attrs:{prop:"make_address",label:"地址",width:"150"}}),o("el-table-column",{attrs:{prop:"make_remake",label:"备注",width:"150"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===t.tableData[e.$index].make_state?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.handleOrder(e.$index,t.tableData)}}},[t._v("处理订单\n\t\t\t\t\t")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.delOrder(e.$index,t.tableData)}}},[t._v("删除\n\t\t\t\t\t")])]}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},de=[],me={data:function(){return{tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_make_order_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},delOrder:function(t,e){var o=this,a=e[t].make_order_sn;this.$confirm("确认删除订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_make_order",{admin_token:o.$store.state.gl_cms_token,make_order_sn:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},handleOrder:function(t,e){var o=this,a=e[t].make_order_sn;this.$confirm("确认处理订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=o.$loading({text:"处理中"});o.$post("cms_handle_make_order",{admin_token:o.$store.state.gl_cms_token,make_order_sn:a}).then(function(e){e&&(o.$message({type:"success",message:"处理成功!"}),o.getList()),t.close()})})}}},pe=me,_e=(o("7a6b"),Object(r["a"])(pe,ue,de,!1,null,"d2e0b5d2",null)),fe=_e.exports,he=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"物流单号",prop:"cat_name"}},[o("el-input",{model:{value:t.form.logistics_sn,callback:function(e){t.$set(t.form,"logistics_sn",e)},expression:"form.logistics_sn"}})],1),o("el-form-item",{attrs:{label:"订单号",prop:"cat_name"}},[o("el-input",{attrs:{disabled:""},model:{value:t.form.order_sn,callback:function(e){t.$set(t.form,"order_sn",e)},expression:"form.order_sn"}})],1),o("el-form-item",{attrs:{label:"订单状态",prop:"cat_name"}},[o("el-input",{attrs:{disabled:""},model:{value:t.form.order_state,callback:function(e){t.$set(t.form,"order_state",e)},expression:"form.order_state"}}),o("el-alert",{attrs:{title:"订单状态：0已取消，1未支付，2已支付未发货，3已支付已发货，4已支付已收货，5已评价，6申请售后，7售后失败，8售后成功",type:"success"}})],1),o("el-form-item",{attrs:{label:"发货时间",prop:"cat_name"}},[o("el-input",{attrs:{disabled:""},model:{value:t.form.deliver_goods_time,callback:function(e){t.$set(t.form,"deliver_goods_time",e)},expression:"form.deliver_goods_time"}})],1),o("el-form-item",{attrs:{label:"物流名称",prop:"cat_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.logistics_code,callback:function(e){t.$set(t.form,"logistics_code",e)},expression:"form.logistics_code"}},t._l(t.option,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"收件人姓名",prop:"cat_name"}},[o("el-input",{model:{value:t.form.logistics_name,callback:function(e){t.$set(t.form,"logistics_name",e)},expression:"form.logistics_name"}})],1),o("el-form-item",{attrs:{label:"收件人手机号",prop:"cat_name"}},[o("el-input",{model:{value:t.form.logistics_tel,callback:function(e){t.$set(t.form,"logistics_tel",e)},expression:"form.logistics_tel"}})],1),o("el-form-item",{attrs:{label:"收件地址",prop:"cat_name"}},[o("el-input",{model:{value:t.form.logistics_address,callback:function(e){t.$set(t.form,"logistics_address",e)},expression:"form.logistics_address"}})],1),o("el-form-item",[2===t.form.order_state?o("el-button",{attrs:{type:"danger"},on:{click:t.deliveryOrder}},[t._v("确认发货")]):t._e(),o("el-button",{attrs:{type:"primary"},on:{click:t.updLogistics}},[t._v("只是修改")]),o("el-alert",{attrs:{title:"“确认发货”会将订单状态设置为已发货，并更新发货时间；“只是修改”不更新订单状态，只更新物流信息",type:"warning"}})],1)],1)],1)])},ge=[],be={data:function(){return{form:{},option:[{label:"顺丰速递",value:"shunfeng"},{label:"邮政小包",value:"youzhenxiaobao"},{label:"百世快递",value:"bestex"},{label:"邮政",value:"ems"}]}},computed:{},created:function(){this.order_sn=this.$route.query.order_sn,this.getOrderInfo(this.order_sn)},methods:{getOrderInfo:function(t){var e=this;this.$fetch("cms_get_order_info",{admin_token:this.$store.state.gl_cms_token,order_sn:t}).then(function(t){t&&(e.form=t)})},deliveryOrder:function(){var t=this,e=this.$loading({text:"处理中"}),o=this.form;o.admin_token=this.$store.state.gl_cms_token,this.$post("cms_delivery_order",o).then(function(o){o&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),e.close()})},updLogistics:function(){var t=this,e=this.$loading({text:"处理中"}),o=this.form;o.admin_token=this.$store.state.gl_cms_token,this.$post("cms_upd_logistics",o).then(function(o){o&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),e.close()})}}},ve=be,ye=(o("4a77"),Object(r["a"])(ve,he,ge,!1,null,"b6ae25c6",null)),$e=ye.exports,xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("订单信息")])]),o("div",{staticClass:"text item"},[t._v("订单号："+t._s(this.order_info.order_sn))]),o("div",{staticClass:"text item"},[t._v("退款单号："+t._s(this.order_info.refund_order_sn))]),o("div",{staticClass:"text item"},[t._v("用户id："+t._s(this.order_info.user_id))]),o("div",{staticClass:"text item"},[t._v("用户名："+t._s(this.order_info.user_name))]),o("div",{staticClass:"text item"},[t._v("订单状态码："+t._s(this.order_info.order_state))]),o("div",{staticClass:"text item"},[t._v("入口："+t._s(this.order_info.son_into_type_name))]),o("div",{staticClass:"text item"},[t._v("订单原价：￥"+t._s(this.order_info.original_order_price))]),o("div",{staticClass:"text item"},[t._v("使用优惠券后价格：￥"+t._s(this.order_info.after_using_coupon_price))]),o("div",{staticClass:"text item"},[t._v("使用积分后价格：￥"+t._s(this.order_info.after_using_integral_price))]),o("div",{staticClass:"text item"},[t._v("支付打折后价格：￥"+t._s(this.order_info.after_using_pay_price))]),o("div",{staticClass:"text item"},[t._v("最终价格：￥"+t._s(this.order_info.order_price))]),o("div",{staticClass:"text item"},[t._v("本单赠送积分："+t._s(this.order_info.give_integral))]),o("div",{staticClass:"text item"},[t._v("支付方式："+t._s(this.order_info.pay_name)+t._s(this.order_info.bystages_val))]),o("div",{staticClass:"text item"},[t._v("创建时间："+t._s(this.order_info.create_time))]),o("div",{staticClass:"text item"},[t._v("最后修改时间："+t._s(this.order_info.upd_time))]),o("div",{staticClass:"text item"},[t._v("支付时间："+t._s(this.order_info.pay_time))]),o("div",{staticClass:"text item"},[t._v("退款时间："+t._s(this.order_info.refund_time))])]),t.get_extra_order_info_load?o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("商品信息")])]),t._l(t.extra_order_info.mid_order,function(e){return o("div",{key:e.id,staticClass:"goods-box"},[o("div",{staticClass:"goods-img"},[o("img",{staticClass:"image",attrs:{src:e.img_url}})]),o("div",{staticClass:"goods-info"},[o("p",{staticClass:"goods-name"},[t._v(t._s(e.goods_name))]),o("p",{staticClass:"sku-desc"},[t._v("属性："+t._s(e.sku_desc))]),o("p",{staticClass:"goods-number"},[t._v("购买数量："+t._s(e.goods_number))]),o("p",{staticClass:"goods-number"},[t._v("购买价格：￥"+t._s(e.mid_order_price))]),o("p",{staticClass:"goods-number"},[t._v("赠送积分："+t._s(e.give_integral))])])])})],2):t._e(),o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("物流信息")])]),o("div",{staticClass:"text item"},[t._v("收件人："+t._s(this.order_info.logistics_name))]),o("div",{staticClass:"text item"},[t._v("手机号："+t._s(this.order_info.logistics_tel))]),o("div",{staticClass:"text item"},[t._v("地址："+t._s(this.order_info.logistics_address))]),o("div",{staticClass:"text item"},[t._v("物流类型："+t._s(this.order_info.logistics_code))]),o("div",{staticClass:"text item"},[t._v("运单号："+t._s(this.order_info.logistics_sn))]),o("div",{staticClass:"text item"},[t._v("发货时间："+t._s(this.order_info.deliver_goods_time))]),o("div",{staticClass:"text item"},[t._v("签收时间："+t._s(this.order_info.sign_goods_time))])]),t.get_extra_order_info_load?o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("发票信息")])]),o("div",{staticClass:"text item"},[t._v("类型："+t._s(this.extra_order_info.order_invoice.invoice_type))]),o("div",{staticClass:"text item"},[t._v("抬头："+t._s(this.extra_order_info.order_invoice.invoice_head))]),o("div",{staticClass:"text item"},[t._v("手机号："+t._s(this.extra_order_info.order_invoice.invoice_phone))]),o("div",{staticClass:"text item"},[t._v("企业名称："+t._s(this.extra_order_info.order_invoice.invoice_qymc))]),o("div",{staticClass:"text item"},[t._v("纳税人识别号："+t._s(this.extra_order_info.order_invoice.invoice_nsrsbh))]),o("div",{staticClass:"text item"},[t._v("开票地址："+t._s(this.extra_order_info.order_invoice.invoice_kpdz))]),o("div",{staticClass:"text item"},[t._v("座机号："+t._s(this.extra_order_info.order_invoice.invoice_zj))]),o("div",{staticClass:"text item"},[t._v("开户行名称："+t._s(this.extra_order_info.order_invoice.invoice_khh))]),o("div",{staticClass:"text item"},[t._v("银行账号："+t._s(this.extra_order_info.order_invoice.invoice_yhzh))])]):t._e()],1)},ke=[],we={data:function(){return{order_info:{},order_sn:"",extra_order_info:{},get_extra_order_info_load:!1}},computed:{},created:function(){this.order_sn=this.$route.query.order_sn,this.getOrderInfo(this.order_sn),this.getExtraOrderInfo(this.order_sn)},methods:{getOrderInfo:function(t){var e=this;this.$fetch("cms_get_order_info",{admin_token:this.$store.state.gl_cms_token,order_sn:t}).then(function(t){t&&(e.order_info=t)})},getExtraOrderInfo:function(t){var e=this;this.$fetch("cms_get_extra_order_info",{admin_token:this.$store.state.gl_cms_token,order_sn:t}).then(function(t){t&&(e.extra_order_info=t,e.get_extra_order_info_load=!0)})}}},Ce=we,Se=(o("2d90"),Object(r["a"])(Ce,xe,ke,!1,null,"76fdf81f",null)),De=Se.exports,Ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"order_sn",label:"订单号",width:"180"}}),o("el-table-column",{attrs:{label:"处理状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("p",{style:{color:0===e.row.is_allow?"red":"black"}},[t._v(t._s(t.serverOrderStatus[e.row.is_allow]))])]}}])}),o("el-table-column",{attrs:{prop:"allow_time",label:"处理时间",width:"200"}}),o("el-table-column",{attrs:{prop:"create_time",label:"提交时间",width:"180"}}),o("el-table-column",{attrs:{prop:"user_id",label:"用户id",width:"100"}}),o("el-table-column",{attrs:{prop:"after_sale_cause",label:"提交原因",width:"180"}}),o("el-table-column",{attrs:{prop:"after_sale_type",label:"售后类型",width:"180"}}),o("el-table-column",{attrs:{prop:"after_sale_text",label:"用户备注",width:"180"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===t.tableData[e.$index].is_allow?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.afterOrderRefund(e.$index,t.tableData)}}},[t._v("开始退款\n          ")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.seeOrder(e.$index,t.tableData)}}},[t._v("\n            查看订单\n          ")])]}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},Oe=[],Ie=(o("3b2b"),{data:function(){return{tableData:[],page:1,limit:10,count:0,truthAuthCode:"gl888888",authCode:"",maxServiceTimeInterval:1296e6,serverOrderStatus:{0:"未处理",1:"已处理"}}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_after_sale_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},afterOrderRefund:function(t,e){var o=this,a=e[t].order_sn,i=e[t].id,s=new Date(e[t].create_time).getTime(),r=(new Date).getTime();r-s>=this.maxServiceTimeInterval?this.$prompt("由于该订单过于久远，请输入授权码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:new RegExp("^("+this.truthAuthCode+")$"),inputErrorMessage:"授权码不正确"}).then(function(){o.orderRefund(a,i)}):this.orderRefund(a,i)},orderRefund:function(t,e){var o=this;this.$confirm("确认退款?该操作不可撤回！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=o.$loading({text:"处理中"});o.$post("cms_order_refund",{admin_token:o.$store.state.gl_cms_token,order_sn:t,after_sale_id:e}).then(function(t){t&&(o.$message({type:"success",message:"处理成功!"}),o.getList()),a.close()})})},seeOrder:function(t,e){var o=e[t].order_sn;this.$router.push({path:"/seeOrder",query:{order_sn:o}})}}}),ze=Ie,Te=(o("d264"),Object(r["a"])(ze,Ee,Oe,!1,null,"08bf01a2",null)),Le=Te.exports,Ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"EditCoupon",query:{edit_type:"add",coupon_id:"0"}})}}},[t._v("\n\t\t\t添加优惠券\n\t\t")])],1),o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"coupon_name",label:"优惠券名称",width:"150"}}),o("el-table-column",{attrs:{prop:"grant_type",label:"优惠券类型",width:"100"}}),o("el-table-column",{attrs:{prop:"into_type",label:"入口",width:"50"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"coupon_desc",label:"优惠券描述",width:"150"}}),o("el-table-column",{attrs:{prop:"start_grant_time",label:"开始发放时间",width:"200"}}),o("el-table-column",{attrs:{prop:"end_grant_time",label:"结束发放时间",width:"180"}}),o("el-table-column",{attrs:{prop:"start_use_time",label:"开始使用时间",width:"200"}}),o("el-table-column",{attrs:{prop:"end_use_time",label:"结束使用时间",width:"200"}}),o("el-table-column",{attrs:{prop:"coupon_number",label:"优惠券数量",width:"100"}}),o("el-table-column",{attrs:{prop:"coupon_remainder_number",label:"优惠券剩余数量",width:"150"}}),o("el-table-column",{attrs:{prop:"found_sum",label:"满足金额",width:"100"}}),o("el-table-column",{attrs:{prop:"cut_sum",label:"减免金额",width:"100"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.delCoupon(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t删除优惠券\n\t\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.editCoupon(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t\t编辑优惠券\n\t\t\t\t\t")])]}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},Ge=[],Ae={data:function(){return{tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_coupon_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},editCoupon:function(t,e){this.$router.push({path:"EditCoupon",query:{type:"upd",coupon_info:h()(e[t])}})},delCoupon:function(t,e){var o=this,a=e[t].coupon_id;this.$confirm("确认删除优惠券?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_coupon",{admin_token:o.$store.state.gl_cms_token,coupon_id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})}}},qe=Ae,Pe=(o("321a"),Object(r["a"])(qe,Ne,Ge,!1,null,"125df3cf",null)),Ue=Pe.exports,Be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",rules:t.rules,size:"mini"}},[o("el-form-item",{attrs:{label:"优惠券名称",prop:"coupon_name"}},[o("el-input",{model:{value:t.form.coupon_name,callback:function(e){t.$set(t.form,"coupon_name",e)},expression:"form.coupon_name"}})],1),o("el-form-item",{attrs:{label:"优惠券描述",prop:"coupon_desc"}},[o("el-input",{model:{value:t.form.coupon_desc,callback:function(e){t.$set(t.form,"coupon_desc",e)},expression:"form.coupon_desc"}}),o("el-alert",{attrs:{title:"用户可见",type:"warning"}})],1),o("el-form-item",{attrs:{label:"发放时间",prop:"grant_time"}},[o("el-date-picker",{attrs:{type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.grant_time,callback:function(e){t.$set(t.form,"grant_time",e)},expression:"form.grant_time"}})],1),o("el-form-item",{attrs:{label:"使用时间",prop:"use_time"}},[o("el-date-picker",{attrs:{type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.use_time,callback:function(e){t.$set(t.form,"use_time",e)},expression:"form.use_time"}})],1),o("el-form-item",{attrs:{label:"满足金额:"}},[o("el-input-number",{attrs:{min:1,precision:2,prop:"found_sum",controls:!1},model:{value:t.form.found_sum,callback:function(e){t.$set(t.form,"found_sum",e)},expression:"form.found_sum"}})],1),o("el-form-item",{attrs:{label:"减免金额:"}},[o("el-input-number",{attrs:{min:0,precision:2,prop:"cut_sum",controls:!1},model:{value:t.form.cut_sum,callback:function(e){t.$set(t.form,"cut_sum",e)},expression:"form.cut_sum"}})],1),o("el-form-item",{attrs:{label:"发放数量:"}},[o("el-input-number",{attrs:{min:0,precision:0,prop:"coupon_number",controls:!1},model:{value:t.form.coupon_number,callback:function(e){t.$set(t.form,"coupon_number",e)},expression:"form.coupon_number"}})],1),o("el-form-item",{attrs:{label:"剩余数量:"}},[o("el-input-number",{attrs:{min:0,max:t.form.coupon_number,precision:0,prop:"coupon_remainder_number",controls:!1},model:{value:t.form.coupon_remainder_number,callback:function(e){t.$set(t.form,"coupon_remainder_number",e)},expression:"form.coupon_remainder_number"}})],1),o("el-form-item",{attrs:{label:"入口类型:"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.into_type,callback:function(e){t.$set(t.form,"into_type",e)},expression:"form.into_type"}},t._l(t.coupon_inlet_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"优惠券类型:"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.grant_type,callback:function(e){t.$set(t.form,"grant_type",e)},expression:"form.grant_type"}},t._l(t.grant_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"classify"===t.form.grant_type,expression:"form.grant_type === 'classify'"}],attrs:{label:"可用分类"}},[o("el-select",{attrs:{placeholder:"请选择",multiple:""},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}},t._l(t.cat_option,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"solo"===t.form.grant_type,expression:"form.grant_type === 'solo'"}],attrs:{label:"可用商品"}},[o("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.solo,callback:function(e){t.$set(t.form,"solo",e)},expression:"form.solo"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)])},je=[],Me={data:function(){return{form:{coupon_name:"",coupon_desc:"",grant_time:null,use_time:null,classify:[],solo:[],found_sum:1,cut_sum:0,coupon_number:0,coupon_remainder_number:0,into_type:"wx",grant_type:"all"},rules:{coupon_name:[{required:!0,message:"必选项",trigger:"blur"}],coupon_desc:[{required:!0,message:"必选项",trigger:"blur"}],grant_time:[{required:!0,message:"必选项",trigger:"blur"}],use_time:[{required:!0,message:"必选项",trigger:"blur"}],found_sum:[{required:!0,message:"必选项",trigger:"blur"}],cut_sum:[{required:!0,message:"必选项",trigger:"blur"}],coupon_number:[{required:!0,message:"必选项",trigger:"blur"}],coupon_remainder_number:[{required:!0,message:"必选项",trigger:"blur"}]},coupon_inlet_options:[{value:"wx",label:"微信公众号入口"},{value:"abc",label:"农行入口"}],grant_type_options:[{value:"all",label:"全场券"},{value:"solo",label:"商品券"},{value:"classify",label:"分类券"}],classify_options:[],goods_options:[],goods_loading:!1,coupon_info:{}}},computed:{cat_option:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){if(0===o.parent_id){var a=[];t.$store.state.cat_list.forEach(function(t){o.cat_id===t.parent_id&&a.push({label:t.cat_name,value:t.cat_id})}),e.push({label:o.cat_name,options:a})}}),e}}},created:function(){this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"upd"===this.$route.query.type&&(this.coupon_info=JSON.parse(this.$route.query.coupon_info),this.getCouponInfo())},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o=t.$loading({text:"处理中"}),a="cms_add_coupon";"upd"===t.$route.query.type&&(a="cms_upd_coupon");var i=t.form;i.start_grant_time=d()(t.form.grant_time[0])/1e3,i.end_grant_time=d()(t.form.grant_time[1])/1e3,i.start_use_time=d()(t.form.use_time[0])/1e3,i.end_use_time=d()(t.form.use_time[1])/1e3,i.admin_token=t.$store.state.gl_cms_token,t.$post(a,i).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),o.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})},getCouponInfo:function(){this.form=this.coupon_info,this.$set(this.form,"grant_time",new Array(new Date(this.coupon_info.start_grant_time).getTime(),new Date(this.coupon_info.end_grant_time).getTime())),this.$set(this.form,"use_time",new Array(new Date(this.coupon_info.start_use_time).getTime(),new Date(this.coupon_info.end_use_time).getTime())),"solo"===this.form.grant_type&&this.getGoodsOptions(this.form.solo)},getGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},getCatOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_cat_by_cat_id_array",{admin_token:this.$store.state.gl_cms_token,cat_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})}}},Re=Me,Fe=(o("12c2"),Object(r["a"])(Re,Be,je,!1,null,"2ad4b7b4",null)),Ve=Fe.exports,Je=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{attrs:{"label-width":"80px",size:"mini",inline:""}},[o("el-form-item",{attrs:{label:"入口类型"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getList},model:{value:t.into_type,callback:function(e){t.into_type=e},expression:"into_type"}},t._l(t.into_type_option,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.addAd}},[t._v("\n\t\t\t添加广告\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:t.cleanCache}},[t._v("\n\t\t\t清除缓存\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"position_type",label:"广告类型",width:"200"}}),o("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"80"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"position_type_name",label:"楼层名称",width:"80"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"text",label:"文本",width:"250"}}),o("el-table-column",{attrs:{prop:"ad_type",label:"响应类型",width:"200"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"url",label:"外链接",width:"250"}}),o("el-table-column",{attrs:{prop:"goods_id",label:"商品ID",width:"100"}}),o("el-table-column",{attrs:{prop:"cat_id",label:"分类ID",width:"100"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"goods_name",label:"商品名",width:"200"}}),o("el-table-column",{attrs:{prop:"goods_price",label:"价格",width:"100"}}),o("el-table-column",{attrs:{prop:"origin_goods_price",label:"原价",width:"100"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除广告\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.edit(e.$index,t.tableData)}}},[t._v("编辑广告\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.showImg(e.$index,t.tableData)}}},[t._v("查看图片\n\t\t\t\t")])]}}])})],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_url,alt:""}})])],1)},We=[],Xe={data:function(){return{into_type:"wx",into_type_option:[{label:"微信专区",value:"wx"},{label:"农行专区",value:"abc"},{label:"走进红牛-华为",value:"redBullMake-hw"},{label:"走进红牛-岗隆",value:"redBullMake-gl"}],path:"EditWxIndexAd",tableData:[],page:1,limit:10,count:0,img_url:"",dialogVisible:!1}},watch:{into_type:function(t){switch(t){case"wx":this.path="EditWxIndexAd";break;case"abc":this.path="EditAbcIndexAd";break;case"redBullMake-hw":this.path="EditRedBullHWGoodsIndexAd";break;case"redBullMake-gl":this.path="EditRedBullGoodsIndexAd";break;default:this.path=""}this.$store.state.page_info_cache.into_type=t},page:function(t){this.$store.state.page_info_cache.page=t},limit:function(t){this.$store.state.page_info_cache.limit=t}},created:function(){this.page=this.$store.state.page_info_cache.page,this.limit=this.$store.state.page_info_cache.limit,this.into_type=this.$store.state.page_info_cache.into_type,this.getList()},methods:{addAd:function(){this.$router.push({path:this.path,query:{edit_type:"add",index_id:"0"}})},getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_index_ad_list",{admin_token:this.$store.state.gl_cms_token,into_type:this.into_type,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},edit:function(t,e){this.$router.push({path:this.path,query:{edit_type:"upd",info:h()(e[t])}})},del:function(t,e){var o=this,a=e[t].id;this.$confirm("确认删除广告?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_index_ad",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},showImg:function(t,e){this.img_url=e[t].ad_img,this.dialogVisible=!0},cleanCache:function(){var t=this,e=this.$loading({text:"处理中"});this.$post("clean_user_index_ad_list_cache",{into_type:this.into_type}).then(function(o){o&&t.$message({message:"操作成功",type:"success"}),e.close()})}}},He=Xe,Ke=Object(r["a"])(He,Je,We,!1,null,"9d3ec9d6",null),Qe=Ke.exports,Ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"广告类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"商品ID"===t.form.ad_type,expression:"form.ad_type === '商品ID'"}],attrs:{label:"对应商品ID"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)},Ze=[],to={data:function(){return{form:{position_type:"顶部广告轮播图",goods_id:"",ad_type:"商品ID",sort_order:10},rules:{},position_type_options:[{value:"顶部广告轮播图",label:"顶部广告轮播图"}],ad_type_options:[{value:"商品ID",label:"商品ID"},{value:"无响应",label:"无响应"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},computed:{},created:function(){if("upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.into_type="redBullMake-gl",t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t,e,o){var a={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(a)},remove:function(t,e){var o=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(e,a){e.name===t.name&&o.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},eo=to,oo=(o("6782"),Object(r["a"])(eo,Ye,Ze,!1,null,"2c7ba4ce",null)),ao=oo.exports,io=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"广告类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"商品ID"===t.form.ad_type,expression:"form.ad_type === '商品ID'"}],attrs:{label:"对应商品ID"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)},so=[],ro={data:function(){return{form:{position_type:"顶部广告轮播图",goods_id:"",ad_type:"商品ID",sort_order:10},rules:{},position_type_options:[{value:"顶部广告轮播图",label:"顶部广告轮播图"}],ad_type_options:[{value:"商品ID",label:"商品ID"},{value:"无响应",label:"无响应"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},computed:{},created:function(){if("upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.into_type="redBullMake-hw",t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t,e,o){var a={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(a)},remove:function(t,e){var o=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(e,a){e.name===t.name&&o.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},no=ro,lo=(o("258c"),Object(r["a"])(no,io,so,!1,null,"baae7c7c",null)),co=lo.exports,uo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"商品ID"===t.form.ad_type,expression:"form.ad_type==='商品ID'"}],attrs:{label:"对应商品ID"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"分类ID"===t.form.ad_type,expression:"form.ad_type==='分类ID'"}],attrs:{label:"对应分类ID"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_options,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"文章ID"===t.form.ad_type,expression:"form.ad_type==='文章ID'"}],attrs:{label:"对应文章ID"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_options,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"文本"===t.form.ad_type||"搜索关键词"===t.form.ad_type||"平台店铺-内容"===t.form.position_type,expression:"form.ad_type==='文本'||form.ad_type==='搜索关键词'||form.position_type==='平台店铺-内容'"}],attrs:{label:"文本\\关键词"}},[o("el-input",{model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"外链接"===t.form.ad_type,expression:"form.ad_type==='外链接'"}],attrs:{label:"链接"}},[o("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1),t._m(0)])},mo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-box"},[a("img",{attrs:{src:o("1eb9")}})])}],po={data:function(){return{form:{position_type:"顶部轮播",into_type:"wx",goods_id:"",cat_id:"",text:"",ad_type:"无响应",sort_order:10},rules:{},position_type_options:[{value:"顶部轮播",label:"顶部轮播"},{value:"公告",label:"公告"},{value:"孤立通栏",label:"孤立通栏"},{value:"新品尝鲜-商品",label:"新品尝鲜-商品"},{value:"品牌惠聚-内容",label:"品牌惠聚-内容"},{value:"平台店铺-内容",label:"平台店铺-内容"}],ad_type_options:[{value:"无响应",label:"无响应"},{value:"商品ID",label:"商品ID"},{value:"分类ID",label:"分类ID"},{value:"文章ID",label:"文章ID"},{value:"文本",label:"文本"},{value:"优惠券板块",label:"优惠券板块"},{value:"搜索关键词",label:"搜索关键词"},{value:"外链接",label:"外链接"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},watch:{"form.position_type":function(t){this.$store.state.page_info_cache.position_type=t},"form.position_type_name":function(t){this.$store.state.page_info_cache.position_type_name=t},"form.ad_type":function(t){this.$store.state.page_info_cache.ad_type=t}},computed:{cat_options:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e}}},created:function(){if(this.form.position_type=this.$store.state.page_info_cache.position_type,this.form.position_type_name=this.$store.state.page_info_cache.position_type_name,this.form.ad_type=this.$store.state.page_info_cache.ad_type,this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},_o=po,fo=(o("d813"),Object(r["a"])(_o,uo,mo,!1,null,"5636b684",null)),ho=fo.exports,go=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("专区")>=0,expression:"form.position_type.indexOf('专区')>=0"}],attrs:{label:"广告名称"}},[o("el-input",{model:{value:t.form.position_type_name,callback:function(e){t.$set(t.form,"position_type_name",e)},expression:"form.position_type_name"}}),o("el-alert",{attrs:{title:"同一广告位置，当通栏名称与内容名称相同，系统会自动将他们摆放到同一区域",type:"success"}})],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"商品ID"===t.form.ad_type,expression:"form.ad_type==='商品ID'"}],attrs:{label:"对应商品ID"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"分类ID"===t.form.ad_type,expression:"form.ad_type==='分类ID'"}],attrs:{label:"对应分类ID"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_options,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"文章ID"===t.form.ad_type,expression:"form.ad_type==='文章ID'"}],attrs:{label:"对应文章ID"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.cat_id,callback:function(e){t.$set(t.form,"cat_id",e)},expression:"form.cat_id"}},t._l(t.cat_options,function(e){return o("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"文本"===t.form.ad_type||"搜索关键词"===t.form.ad_type||"外链接"===t.form.ad_type,expression:"form.ad_type==='文本'||form.ad_type==='搜索关键词'||form.ad_type==='外链接'"}],attrs:{label:"文本或关键词或外链接"}},[o("el-input",{model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1),t._m(0)])},bo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-box"},[a("img",{attrs:{src:o("6242")}})])}],vo={data:function(){return{form:{position_type:"顶部轮播",position_type_name:"",into_type:"abc",goods_id:"",cat_id:"",text:"",ad_type:"无响应",sort_order:10},rules:{},position_type_options:[{value:"压屏广告",label:"压屏广告"},{value:"顶部轮播",label:"顶部轮播"},{value:"公告",label:"公告"},{value:"分类区域",label:"分类区域"},{value:"孤立通栏",label:"孤立通栏"},{value:"合作伙伴",label:"合作伙伴"},{value:"服务说明",label:"服务说明"},{value:"每周特惠横图",label:"每周特惠横图"},{value:"每周特惠商品",label:"每周特惠商品"},{value:"专区短横图",label:"专区短横图"},{value:"专区长横图",label:"专区长横图"},{value:"专区商品",label:"专区商品"},{value:"顶部广告轮播图",label:"顶部广告轮播图(老版本用的)"}],ad_type_options:[{value:"无响应",label:"无响应"},{value:"商品ID",label:"商品ID"},{value:"分类ID",label:"分类ID"},{value:"文本",label:"文本"},{value:"搜索关键词",label:"搜索关键词"},{value:"外链接",label:"外链接"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},watch:{"form.position_type":function(t){this.$store.state.page_info_cache.position_type=t},"form.position_type_name":function(t){this.$store.state.page_info_cache.position_type_name=t},"form.ad_type":function(t){this.$store.state.page_info_cache.ad_type=t}},computed:{cat_options:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e}}},created:function(){if(this.form.position_type=this.$store.state.page_info_cache.position_type,this.form.position_type_name=this.$store.state.page_info_cache.position_type_name,this.form.ad_type=this.$store.state.page_info_cache.ad_type,this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},yo=vo,$o=(o("a109"),Object(r["a"])(yo,go,bo,!1,null,"91e963e8",null)),xo=$o.exports,ko=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{attrs:{"label-width":"80px",size:"mini",inline:""}},[o("el-form-item",{attrs:{label:"入口类型"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getList},model:{value:t.into_type,callback:function(e){t.into_type=e},expression:"into_type"}},t._l(t.into_type_option,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.addAd}},[t._v("\n\t\t\t添加分类\n\t\t")]),o("el-button",{attrs:{type:"primary"},on:{click:t.cleanCache}},[t._v("\n\t\t\t清除缓存\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),o("el-table-column",{attrs:{prop:"classify_name",label:"分类名称",width:"80"}}),o("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"80"}}),o("el-table-column",{attrs:{prop:"parent_id",label:"父级ID",width:"80"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"key_word",label:"关键词",width:"250"}}),o("el-table-column",{attrs:{label:"logo图片",width:"80",hight:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("img",{staticStyle:{width:"100%"},attrs:{src:t.tableData[e.$index].logo_img,alt:""}})]}}])}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除广告\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.edit(e.$index,t.tableData)}}},[t._v("编辑广告\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.showImg(e.$index,t.tableData)}}},[t._v("查看图片\n\t\t\t\t")])]}}])})],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_logo,alt:""}})])],1)},wo=[],Co={data:function(){return{into_type:"wx",into_type_option:[{label:"微信专区",value:"wx"}],path:"EditClassifyAd",tableData:[],page:1,limit:20,count:0,img_logo:"",dialogVisible:!1}},computed:{},watch:{into_type:function(t){switch(t){case"wx":this.path="EditClassifyAd";break;default:this.path=""}this.$store.state.page_info_cache.into_type=t},limit:function(t){this.$store.state.page_info_cache.limit=t}},created:function(){this.page=this.$store.state.page_info_cache.page,this.into_type=this.$store.state.page_info_cache.into_type,this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_classify_ad_list",{admin_token:this.$store.state.gl_cms_token,into_type:this.into_type,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},addAd:function(){this.$router.push({path:this.path,query:{edit_type:"add",id:"0",into_type:this.into_type}})},edit:function(t,e){this.$router.push({path:this.path,query:{edit_type:"upd",info:h()(e[t]),into_type:this.into_type}})},del:function(t,e){var o=this,a=e[t].id,i=e[t].parent_id;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s=o.$loading({text:"处理中"});o.$post("cms_del_classify_ad",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1),0===i&&(o.$store.state.parent_classify_ad_list=[])),s.close()})})},showImg:function(t,e){this.img_logo=e[t].img_logo,this.dialogVisible=!0},cleanCache:function(){var t=this,e=this.$loading({text:"处理中"});this.$post("clean_user_classify_cache",{into_type:this.into_type}).then(function(o){o&&t.$message({message:"操作成功",type:"success"}),e.close()})}}},So=Co,Do=Object(r["a"])(So,ko,wo,!1,null,"23d48b88",null),Eo=Do.exports,Oo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"分类名称"}},[o("el-input",{model:{value:t.form.classify_name,callback:function(e){t.$set(t.form,"classify_name",e)},expression:"form.classify_name"}})],1),o("el-form-item",{attrs:{label:"父级分类",prop:"parent_id"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.click_type,callback:function(e){t.$set(t.form,"click_type",e)},expression:"form.click_type"}},t._l(t.click_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"搜索关键词"===t.form.click_type,expression:"form.click_type==='搜索关键词'"}],attrs:{label:"搜索关键词"}},[o("el-input",{model:{value:t.form.key_word,callback:function(e){t.$set(t.form,"key_word",e)},expression:"form.key_word"}}),o("el-alert",{attrs:{title:"用户点击该分类，系统会自动搜索包涵关键词的商品,如果您没有设定关键词，系统将自动将分类名称作为关键词",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"商品ID"===t.form.click_type,expression:"form.click_type==='商品ID'"}],attrs:{label:"对应商品ID"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词，进行商品搜索","remote-method":t.searchGoods,loading:t.goods_loading},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}},t._l(t.goods_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"logo"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.logoUploadSuccess,"on-remove":t.logoRemove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.logo_img_file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===t.form.parent_id,expression:"form.parent_id === 0"}],attrs:{label:"横图"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.headUploadSuccess,"on-remove":t.headRemove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.bar_img_file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1)},Io=[],zo={data:function(){return{form:{into_type:"wx",classify_name:"",click_type:"搜索关键词",parent_id:0,sort_order:10,key_word:"",goods_id:""},rules:{},goods_options:[],goods_loading:!1,logo_img_file_list:[],bar_img_file_list:[],click_type_options:[{label:"搜索关键词",value:"搜索关键词"},{label:"商品ID",value:"商品ID"}]}},computed:{options:{get:function(){var t=[];return this.$store.state.parent_classify_ad_list.length>0&&this.$store.state.parent_classify_ad_list.forEach(function(e){t.push({value:e.id,label:e.classify_name})}),t.push({value:0,label:"顶级分类"}),t}}},watch:{"form.parent_id":function(t){this.$store.state.page_info_cache.parent_id=t,0===t&&(this.form.group_name="")}},created:function(){if(this.form.parent_id=this.$store.state.page_info_cache.parent_id,this.form.into_type=this.$route.query.into_type,this.$store.state.parent_classify_ad_list.length<1&&this.getParentClassify(),"upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info),this.logo_img_file_list.push({name:this.form.logo_img,url:this.form.logo_img}),this.bar_img_file_list.push({name:this.form.bar_img,url:this.form.bar_img});var t=[this.form.goods_id];this.getGoodsOptions(t)}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},getGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},getParentClassify:function(){var t=this,e=this.$loading({text:"获取分类列表"});this.$fetch("cms_get_parent_classify_ad_list",{admin_token:this.$store.state.gl_cms_token,into_type:this.form.into_type}).then(function(o){t.$set(t.$store.state,"parent_classify_ad_list",o),e.close()})},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},logoUploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.logo_img_file_list.push(e)},headUploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.bar_img_file_list.push(e)},logoRemove:function(t){var e=this;this.logo_img_file_list.length>0&&"success"===t.status&&this.logo_img_file_list.forEach(function(o,a){o.name===t.name&&e.logo_img_file_list.splice(a,1)})},headRemove:function(t){var e=this;this.bar_img_file_list.length>0&&"success"===t.status&&this.bar_img_file_list.forEach(function(o,a){o.name===t.name&&e.bar_img_file_list.splice(a,1)})},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.logo_img=0===this.logo_img_file_list.length?"":this.logo_img_file_list[0].url,t.bar_img=0===this.bar_img_file_list.length?"":this.bar_img_file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_classify_ad",t).then(function(a){a&&(e.$message({message:"操作成功",type:"success"}),0===t.parent_id&&e.getParentClassify(),e.$router.go(-1)),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_classify_ad",t).then(function(a){a&&(e.$message({message:"操作成功",type:"success"}),0===t.parent_id&&e.getParentClassify(),e.$router.go(-1)),o.close()})}}},To=zo,Lo=(o("a66e"),Object(r["a"])(To,Oo,Io,!1,null,"bc53f144",null)),No=Lo.exports,Go=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("icbc-table",{ref:"icbcTable",attrs:{thisPath:"ghDigitalProduct",editPath:"ghEditNew3cMobile",intoType:"new_3c_mobile"}})],1)},Ao=[],qo=function(){var t=this,e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"icbcTableMain"},[a("div",{staticClass:"button-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addAd}},[e._v("\n      添加广告\n    ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.cleanCache}},[e._v("\n      清除缓存\n    ")])],1),a("el-table",{ref:"icbcTableMainTable",attrs:{data:e.tableData,stripe:"",border:"",height:"850px"}},[a("el-table-column",{attrs:{label:"商品名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.showEaseEdit(t.$index,e.tableData)}}},[e._v("\n          "+e._s(e.tableData[t.$index].goods_name)+"\n        ")])]}}])}),a("el-table-column",{attrs:{label:"价格",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.showEaseEdit(t.$index,e.tableData)}}},[e._v("\n          "+e._s(e.tableData[t.$index].goods_price)+"\n        ")])]}}])}),a("el-table-column",{attrs:{label:"原价",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.showEaseEdit(t.$index,e.tableData)}}},[e._v("\n          "+e._s(e.tableData[t.$index].origin_goods_price)+"\n        ")])]}}])}),a("el-table-column",{attrs:{label:"图片",width:"100",hight:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-upload",{staticStyle:{width:"100%",height:"100%"},attrs:{action:e.$store.state.api_url+"cms/cms_upd_ad_img","on-success":function(o){return e.uploadSuccess(o,t.$index)},data:{id:e.tableData[t.$index].id},accept:"image/jpeg,image/gif,image/png",name:"portrait_img","before-upload":function(o){return e.beforeAvatarUpload(o,t.$index)},"show-file-list":!1}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.tableData[t.$index].ad_img,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"url",label:"外链接",width:"250"}}),a("el-table-column",{attrs:{prop:"click_count",label:"点击量",width:"70"}}),a("el-table-column",{attrs:{prop:"position_type",label:"广告类型",width:"200"}}),a("el-table-column",{attrs:{prop:"ad_type",label:"响应类型",width:"200"}}),a("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"80"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.del(t.$index,e.tableData)}}},[e._v("删除\n        ")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.edit(t.$index,e.tableData)}}},[e._v("编辑\n        ")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.showImg(t.$index,e.tableData)}}},[e._v("查看图片\n        ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.tableData[t.$index].is_on_sale,expression:"tableData[scope.$index].is_on_sale === 1"}],attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.endOfSale(t.$index,e.tableData)}}},[e._v("\n          下架\n        ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.tableData[t.$index].is_on_sale,expression:"tableData[scope.$index].is_on_sale === 0"}],attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.allowSale(t.$index,e.tableData)}}},[e._v("\n          上架\n        ")])]}}])})],1),a("div",{staticClass:"paginationBox"},[e.showPagination?a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,40,80,160],"page-size":e.limit,layout:"sizes, prev, pager, next",total:e.count},on:{"size-change":function(t){e.goSearch(!0,1,t)},"current-change":function(){e.goSearch(!0,e.page,t.limit)},"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t}}}):e._e()],1),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.img_url,alt:""}})]),a("el-dialog",{attrs:{visible:e.dialogVisibleEditMobile,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisibleEditMobile=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"外链接"}},[a("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"排序:"}},[a("el-input-number",{attrs:{min:1,precision:0,max:999,controls:!1},model:{value:e.form.sort_order,callback:function(t){e.$set(e.form,"sort_order",t)},expression:"form.sort_order"}})],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:e.form.goods_price,callback:function(t){e.$set(e.form,"goods_price",t)},expression:"form.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:e.form.goods_price,callback:function(t){e.$set(e.form,"goods_price",t)},expression:"form.goods_price"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.easeEdit}},[e._v("保存")])],1)],1)],1)],1)},Po=[],Uo={name:"IcbcTable",data:function(){return{tableData:[],page:1,limit:160,count:0,img_url:"",dialogVisible:!1,loading:null,dialogVisibleEditMobile:!1,index_id:0,form:{goods_name:"",goods_price:0,url:"",sort_order:10,id:0,index:0},showPagination:!0}},props:{editPath:{type:String,required:!0},thisPath:{type:String,required:!0},intoType:{type:String,required:!0}},created:function(){},methods:{addAd:function(){this.$router.push({path:this.editPath,query:{edit_type:"add",index_id:"0"}})},urlUpdate:function(t){t&&t.query&&0!==ie()(t.query).length&&(this.$set(this,"page",d()(t.query.page)),this.$set(this,"limit",d()(t.query.limit))),this.getList()},goSearch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=0;t||(a=this.$refs.icbcTableMainTable.bodyWrapper.scrollTop);var i={page:e,limit:o,scrollTop:a};this.$router.push({path:"/".concat(this.thisPath),query:i})},getList:function(){var t=this;this.showPagination=!1;var e=this.$loading({text:"加载中"});this.$fetch("cms_get_index_ad_list",{admin_token:this.$store.state.gl_cms_token,into_type:this.intoType,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),t.showPagination=!0,t.$nextTick(function(){this.$refs.icbcTableMainTable&&(this.$refs.icbcTableMainTable.bodyWrapper.scrollTop=this.$route.query.scrollTop?this.$route.query.scrollTop:0)}),e.close()})},edit:function(t,e){this.goSearch(!1,this.page,this.limit),this.$router.push({path:this.editPath,query:{edit_type:"upd",info:h()(e[t])}})},del:function(t,e){var o=this,a=e[t].id;this.$confirm("确认删除广告?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_index_ad",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},showImg:function(t,e){this.img_url=e[t].ad_img,this.dialogVisible=!0},cleanCache:function(){var t=this,e=this.$loading({text:"处理中"});this.$post("clean_user_index_ad_list_cache",{into_type:this.intoType}).then(function(o){o&&t.$message({message:"操作成功",type:"success"}),e.close()})},showEaseEdit:function(t,e){this.form.goods_name=e[t].goods_name,this.form.goods_price=e[t].goods_price,this.form.url=e[t].url,this.form.sort_order=e[t].sort_order,this.form.id=e[t].id,this.form.index=t,this.dialogVisibleEditMobile=!0},easeEdit:function(){var t=this;this.loading=this.$loading({lock:!0,text:"修改中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var e=this.form;e.admin_token=this.$store.state.gl_cms_token,this.$post("cms_ease_upd_index_ad",e).then(function(e){e&&(t.$set(t.tableData[t.form.index],"goods_name",t.form.goods_name),t.$set(t.tableData[t.form.index],"goods_price",t.form.goods_price),t.$set(t.tableData[t.form.index],"url",t.form.url),t.$set(t.tableData[t.form.index],"sort_order",t.form.sort_order),t.$message({message:"操作成功",type:"success"})),t.loading.close()}),this.dialogVisibleEditMobile=!1},endOfSale:function(t,e){var o=this,a=e[t].id,i=this.$loading({text:"下架中"});this.$post("cms_end_of_index_ad",{admin_token:this.$store.state.gl_cms_token,id:a}).then(function(e){e&&(o.$message({type:"success",message:"下架成功!"}),o.$set(o.tableData[t],"is_on_sale",0)),i.close()})},allowSale:function(t,e){var o=this,a=e[t].id,i=this.$loading({text:"上架中"});this.$post("cms_allow_index_ad",{admin_token:this.$store.state.gl_cms_token,id:a}).then(function(e){e&&(o.$message({type:"success",message:"上架成功!"}),o.$set(o.tableData[t],"is_on_sale",1)),i.close()})},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),this.loading=this.$loading({lock:!0,text:"正在上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e},uploadSuccess:function(t,e){this.$set(this.tableData[e],"ad_img",t.goods_img),this.loading.close()},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})}}},Bo=Uo,jo=(o("585d"),Object(r["a"])(Bo,qo,Po,!1,null,"17de202e",null)),Mo=jo.exports,Ro={name:"DigitalProduct",beforeRouteEnter:function(t,e,o){o(function(e){e.$nextTick(function(){e.$refs.icbcTable.urlUpdate(t)})})},beforeRouteUpdate:function(t,e,o){var a=this;this.$nextTick(function(){a.$refs.icbcTable.urlUpdate(t)}),o()},components:{"icbc-table":Mo}},Fo=Ro,Vo=Object(r["a"])(Fo,Go,Ao,!1,null,"b1a0cc16",null),Jo=Vo.exports,Wo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editFashionSciTechMain"},[o("icbc-form",{attrs:{"position-type-options":t.positionTypeOptions,"into-type":"new_3c_mobile","preview-img-url":t.previewImgUrl}})],1)},Xo=[],Ho=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"icbcFormMain"},[o("div",{staticClass:"formBox"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.positionTypeOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"外链接"===t.form.ad_type,expression:"form.ad_type==='外链接'"}],attrs:{label:"外链接"}},[o("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("N")>-1,expression:"form.position_type.indexOf('N')>-1"}],attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}}),o("el-alert",{attrs:{title:"以符号“|”分割商品名与标签",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品价格"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.goods_price,callback:function(e){t.$set(t.form,"goods_price",e)},expression:"form.goods_price"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品原价"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.origin_goods_price,callback:function(e){t.$set(t.form,"origin_goods_price",e)},expression:"form.origin_goods_price"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1),o("div",{staticClass:"imgBox"},[o("img",{attrs:{src:t.previewImgUrl}})])])},Ko=[],Qo={name:"EditFashionSciTech",data:function(){return{form:{position_type:"",url:"",text:"",ad_type:"无响应",sort_order:10},ad_type_options:[{value:"无响应",label:"无响应"},{value:"外链接",label:"外链接"}],file_list:[],info:{}}},props:{previewImgUrl:{type:String,required:!1},positionTypeOptions:{type:Array,required:!0},intoType:{type:String,required:!0}},watch:{"form.position_type":function(t){this.$store.state.page_info_cache.position_type=t},"form.ad_type":function(t){this.$store.state.page_info_cache.ad_type=t}},created:function(){this.form.position_type=this.$store.state.page_info_cache.position_type,this.form.ad_type=this.$store.state.page_info_cache.ad_type,"upd"===this.$route.query.edit_type&&(this.form=JSON.parse(this.$route.query.info),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img}))},methods:{beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,t.into_type=this.intoType,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},Yo=Qo,Zo=(o("b35f"),Object(r["a"])(Yo,Ho,Ko,!1,null,"654d77fc",null)),ta=Zo.exports,ea={name:"EditFashionSciTech",data:function(){return{positionTypeOptions:[{value:"顶部轮播",label:"顶部轮播"},{value:"24期分期-通栏",label:"24期分期-通栏"},{value:"24期分期-商品GN",label:"24期分期-商品"},{value:"12期分期-通栏",label:"12期分期-通栏"},{value:"12期分期-商品GN",label:"12期分期-商品"},{value:"6期分期-通栏",label:"6期分期-通栏"},{value:"6期分期-商品GN",label:"6期分期-商品"},{value:"品质配件-通栏",label:"品质配件-通栏"},{value:"品质配件-商品GN",label:"品质配件-商品"},{value:"手机通讯-商品GN",label:"手机通讯-商品"},{value:"数码配件-商品GN",label:"数码配件-商品"},{value:"车载配件-商品GN",label:"车载配件-商品"},{value:"穿戴设备-商品GN",label:"穿戴设备-商品"},{value:"影音娱乐-商品GN",label:"影音娱乐-商品"},{value:"智能设备-商品GN",label:"智能设备-商品"}],previewImgUrl:"".concat("","images/new_3c_mobile_ad_show.jpg")}},mounted:function(){},components:{"icbc-form":ta}},oa=ea,aa=(o("ca9b"),Object(r["a"])(oa,Wo,Xo,!1,null,"b45a9026",null)),ia=aa.exports,sa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("icbc-table",{ref:"icbcTable",attrs:{thisPath:"ghKettleMobileList",editPath:"ghKettleEditMobile",intoType:"kettle_mobile"}})],1)},ra=[],na={name:"Kettle",beforeRouteEnter:function(t,e,o){o(function(e){e.$nextTick(function(){e.$refs.icbcTable.urlUpdate(t)})})},beforeRouteUpdate:function(t,e,o){var a=this;this.$nextTick(function(){a.$refs.icbcTable.urlUpdate(t)}),o()},components:{"icbc-table":Mo}},la=na,ca=Object(r["a"])(la,sa,ra,!1,null,"4e843af2",null),ua=ca.exports,da=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"外链接"===t.form.ad_type,expression:"form.ad_type==='外链接'"}],attrs:{label:"外链接"}},[o("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("N")>-1,expression:"form.position_type.indexOf('N')>-1"}],attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}}),o("el-alert",{attrs:{title:"以符号“|”分割商品名与标签",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品价格"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.goods_price,callback:function(e){t.$set(t.form,"goods_price",e)},expression:"form.goods_price"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品原价"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.origin_goods_price,callback:function(e){t.$set(t.form,"origin_goods_price",e)},expression:"form.origin_goods_price"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1),t._m(0)])},ma=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-box"},[a("img",{attrs:{src:o("4253")}})])}],pa={data:function(){return{form:{position_type:"顶部轮播",position_type_name:"",into_type:"kettle_mobile",url:"",text:"",origin_goods_price:2,goods_price:1,ad_type:"无响应",sort_order:10},rules:{},position_type_options:[{value:"顶部轮播",label:"顶部轮播"},{value:"N分类导航",label:"分类导航"},{value:"孤立通栏",label:"孤立通栏"},{value:"GN今日必抢-商品",label:"今日必抢-商品"},{value:"N精选主题-内容",label:"精选主题-内容"},{value:"N推荐榜单-内容",label:"推荐榜单-内容"},{value:"N精选文章1",label:"精选文章1"},{value:"NG优选好货-商品",label:"优选好货-商品"},{value:"精选大牌-内容",label:"精选大牌-内容"},{value:"GN烹饪锅具-商品",label:"烹饪锅具-商品"},{value:"GN刀剪菜板-商品",label:"刀剪菜板-商品"},{value:"GN厨房配件-商品",label:"厨房配件-商品"},{value:"GN水具酒具-商品",label:"水具酒具-商品"},{value:"GN餐具-商品",label:"餐具-商品"},{value:"GN茶具咖啡具-商品",label:"茶具咖啡具-商品"}],ad_type_options:[{value:"无响应",label:"无响应"},{value:"外链接",label:"外链接"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},watch:{"form.position_type":function(t){this.$store.state.page_info_cache.position_type=t},"form.position_type_name":function(t){this.$store.state.page_info_cache.position_type_name=t},"form.ad_type":function(t){this.$store.state.page_info_cache.ad_type=t}},computed:{cat_options:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e}}},created:function(){if(this.form.position_type=this.$store.state.page_info_cache.position_type,this.form.position_type_name=this.$store.state.page_info_cache.position_type_name,this.form.ad_type=this.$store.state.page_info_cache.ad_type,this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},_a=pa,fa=(o("ea19"),Object(r["a"])(_a,da,ma,!1,null,"3c5af2cc",null)),ha=fa.exports,ga=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("icbc-table",{ref:"icbcTable",attrs:{thisPath:"ghAppliancesMobileList",editPath:"ghAppliancesEditMobile",intoType:"appliances_mobile"}})],1)},ba=[],va={name:"appliances",beforeRouteEnter:function(t,e,o){o(function(e){e.$nextTick(function(){e.$refs.icbcTable.urlUpdate(t)})})},beforeRouteUpdate:function(t,e,o){var a=this;this.$nextTick(function(){a.$refs.icbcTable.urlUpdate(t)}),o()},components:{"icbc-table":Mo}},ya=va,$a=Object(r["a"])(ya,ga,ba,!1,null,"7564b4b1",null),xa=$a.exports,ka=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"广告位置"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.position_type,callback:function(e){t.$set(t.form,"position_type",e)},expression:"form.position_type"}},t._l(t.position_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"响应类型"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.ad_type,callback:function(e){t.$set(t.form,"ad_type",e)},expression:"form.ad_type"}},t._l(t.ad_type_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"外链接"===t.form.ad_type,expression:"form.ad_type==='外链接'"}],attrs:{label:"外链接"}},[o("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("N")>-1,expression:"form.position_type.indexOf('N')>-1"}],attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}}),o("el-alert",{attrs:{title:"以符号“|”分割商品名与标签",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品价格"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.goods_price,callback:function(e){t.$set(t.form,"goods_price",e)},expression:"form.goods_price"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"商品原价"}},[o("el-input-number",{attrs:{min:1,precision:2,controls:!1},model:{value:t.form.origin_goods_price,callback:function(e){t.$set(t.form,"origin_goods_price",e)},expression:"form.origin_goods_price"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.position_type.indexOf("G")>-1,expression:"form.position_type.indexOf('G')>-1"}],attrs:{label:"固定显示"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.is_fixed,callback:function(e){t.$set(t.form,"is_fixed",e)},expression:"form.is_fixed"}})],1),o("el-form-item",{attrs:{label:"排序:"}},[o("el-input-number",{attrs:{min:1,max:99999,precision:0,controls:!1},model:{value:t.form.sort_order,callback:function(e){t.$set(t.form,"sort_order",e)},expression:"form.sort_order"}})],1),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")])],1)],1)],1),t._m(0)])},wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-box"},[a("img",{attrs:{src:o("6664")}})])}],Ca={data:function(){return{form:{position_type:"顶部轮播",position_type_name:"",into_type:"appliances_mobile",url:"",text:"",ad_type:"无响应",sort_order:10,is_fixed:0},rules:{},position_type_options:[{value:"顶部轮播",label:"顶部轮播"},{value:"今日秒杀-商品GN",label:"今日秒杀-商品"},{value:"品质好货-通栏",label:"品质好货-通栏"},{value:"品质好货-商品GN",label:"品质好货-商品"},{value:"精选品牌-内容N",label:"精选品牌-内容"},{value:"生活电器-商品GN",label:"生活电器-商品"},{value:"厨卫电器-商品GN",label:"厨卫电器-商品"},{value:"个护电器-商品GN",label:"个护电器-商品"},{value:"大家电-商品GN",label:"大家电-商品"},{value:"店铺推荐-内容N",label:"店铺推荐-内容"}],ad_type_options:[{value:"无响应",label:"无响应"},{value:"外链接",label:"外链接"}],goods_options:[],goods_loading:!1,file_list:[],info:{}}},watch:{"form.position_type":function(t){this.$store.state.page_info_cache.position_type=t},"form.position_type_name":function(t){this.$store.state.page_info_cache.position_type_name=t},"form.ad_type":function(t){this.$store.state.page_info_cache.ad_type=t}},computed:{cat_options:{get:function(){var t=this,e=[];return this.$store.state.cat_list.length>0&&this.$store.state.cat_list.forEach(function(o){t.$store.state.cat_list.forEach(function(t){if(o.parent_id==t.cat_id){var a=!0;if(e.forEach(function(i,s){i.label===t.cat_name&&(e[s].options.push({value:o.cat_id,label:o.cat_name}),a=!1)}),a){var i={};i.label=t.cat_name,i.options=[],i.options.push({value:o.cat_id,label:o.cat_name}),e.push(i)}}})}),e}}},created:function(){if(this.form.position_type=this.$store.state.page_info_cache.position_type,this.form.position_type_name=this.$store.state.page_info_cache.position_type_name,this.form.ad_type=this.$store.state.page_info_cache.ad_type,this.$store.state.cat_list.length<1&&this.$store.dispatch("getCatList",this.$store.state.gl_cms_token),"upd"===this.$route.query.edit_type){this.form=JSON.parse(this.$route.query.info);var t=[this.form.goods_id];this.gitGoodsOptions(t),this.file_list.push({name:this.form.ad_img,url:this.form.ad_img})}},methods:{searchGoods:function(t){var e=this;""!==t?this.$fetch("cms_search_goods",{admin_token:this.$store.state.gl_cms_token,goods_name:t.replace(/\s+/g,"")}).then(function(t){e.goods_options=[],t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),e.loading=!0}).catch(function(){e.goods_options=[]}):this.goods_options=[]},onSubmit:function(){var t=this.form;t.admin_token=this.$store.state.gl_cms_token,t.ad_img=0===this.file_list.length?"":this.file_list[0].url,"add"===this.$route.query.edit_type?this.addIndexAd(t):"upd"===this.$route.query.edit_type&&this.updIndexAd(t)},beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type&&(this.$message.error("上传图片只能是 JPG/PNG/GIF格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t){var e={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(e)},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)})},addIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},gitGoodsOptions:function(t){var e=this,o=this.$loading({text:"处理中"});this.$fetch("cms_get_goods_by_goods_id_array",{admin_token:this.$store.state.gl_cms_token,goods_id_array:t}).then(function(t){t.forEach(function(t){e.goods_options.push({value:t.goods_id,label:t.goods_name})}),o.close()})},updIndexAd:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_upd_index_ad",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})}}},Sa=Ca,Da=(o("dc06"),Object(r["a"])(Sa,ka,wa,!1,null,"fa2efcae",null)),Ea=Da.exports,Oa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fashionSciTechMain"},[o("icbc-table",{ref:"icbcTable",attrs:{thisPath:"ghFashionSciTech",editPath:"ghEditFashionSciTech",intoType:"fashion_sci_tech"}})],1)},Ia=[],za={name:"FashionSciTech",beforeRouteEnter:function(t,e,o){o(function(e){e.$nextTick(function(){e.$refs.icbcTable.urlUpdate(t)})})},beforeRouteUpdate:function(t,e,o){var a=this;this.$nextTick(function(){a.$refs.icbcTable.urlUpdate(t)}),o()},components:{"icbc-table":Mo}},Ta=za,La=Object(r["a"])(Ta,Oa,Ia,!1,null,"f8b8e224",null),Na=La.exports,Ga=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editFashionSciTechMain"},[o("icbc-form",{attrs:{"position-type-options":t.positionTypeOptions,"into-type":"fashion_sci_tech","preview-img-url":t.previewImgUrl}})],1)},Aa=[],qa={name:"EditFashionSciTech",data:function(){return{positionTypeOptions:[{value:"顶部轮播",label:"顶部轮播"},{value:"新品尝鲜-商品GN",label:"新品尝鲜-商品"},{value:"热销手机-商品N",label:"热销手机-商品"},{value:"平板电脑-商品GN",label:"平板电脑-商品"},{value:"潮流周边-商品GN",label:"潮流周边-商品"},{value:"办公好物-商品GN",label:"办公好物-商品"},{value:"底部文章",label:"底部文章"}],previewImgUrl:"".concat("","images/fashion_sci_tech_show.jpeg")}},mounted:function(){},components:{"icbc-form":ta}},Pa=qa,Ua=(o("bfcd"),Object(r["a"])(Pa,Ga,Aa,!1,null,"16036644",null)),Ba=Ua.exports,ja=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"is_allow",label:"审核状态",width:"80"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"goods_name",label:"商品名称",width:"500"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sku_desc",label:"规格",width:"200"}}),o("el-table-column",{attrs:{prop:"rate",label:"评分",width:"50"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"evaluate_text",label:"评论",width:"400"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===t.tableData[e.$index].is_allow?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.allow(e.$index,t.tableData)}}},[t._v("审核通过\n\t\t\t\t\t")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除\n\t\t\t\t\t")])]}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},Ma=[],Ra={data:function(){return{tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_evaluate_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},allow:function(t,e){var o=this,a=e[t].id,i=e[t].goods_id,s=this.$loading({text:"处理中"});this.$post("cms_allow_evaluate",{admin_token:this.$store.state.gl_cms_token,evaluate_id:a,goods_id:i}).then(function(t){t&&(o.$message({type:"success",message:"处理成功!"}),o.getList()),s.close()})},del:function(t,e){var o=this,a=e[t].id,i=e[t].goods_id,s=this.$loading({text:"处理中"});this.$post("cms_del_evaluate",{admin_token:this.$store.state.gl_cms_token,evaluate_id:a,goods_id:i}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),s.close()})}}},Fa=Ra,Va=Object(r["a"])(Fa,ja,Ma,!1,null,"1244edb0",null),Ja=Va.exports,Wa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{attrs:{disabled:""},model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}})],1),o("el-form-item",{attrs:{label:"商品id"}},[o("el-input",{attrs:{disabled:""},model:{value:t.form.goods_id,callback:function(e){t.$set(t.form,"goods_id",e)},expression:"form.goods_id"}})],1),o("el-form-item",{attrs:{label:"评价日期",prop:"create_time"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.form.create_time,callback:function(e){t.$set(t.form,"create_time",e)},expression:"form.create_time"}})],1),o("el-form-item",{attrs:{label:"sku",prop:"sku_desc"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.sku_desc,callback:function(e){t.$set(t.form,"sku_desc",e)},expression:"form.sku_desc"}},t._l(t.sku_desc_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"评分"}},[o("el-rate",{attrs:{max:5,min:1},model:{value:t.form.rate,callback:function(e){t.$set(t.form,"rate",e)},expression:"form.rate"}})],1),o("el-form-item",{attrs:{label:"用户名称",prop:"user_name"}},[o("el-input",{model:{value:t.form.user_name,callback:function(e){t.$set(t.form,"user_name",e)},expression:"form.user_name"}})],1),o("el-form-item",{attrs:{label:"评价内容",prop:"evaluate_text"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.evaluate_text,callback:function(e){t.$set(t.form,"evaluate_text",e)},expression:"form.evaluate_text"}})],1),o("el-form-item",{attrs:{label:"用户头像"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_goods_img","on-success":t.uploadSuccess,"on-remove":t.remove,limit:1,accept:"image/jpeg,image/gif,image/png",name:"portrait_img","file-list":t.file_list,"before-upload":t.beforeAvatarUpload,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.submitEvaluate}},[t._v("确认保存")])],1)],1)],1)},Xa=[],Ha=(o("6b54"),{data:function(){return{form:{create_time:"",goods_id:0,user_id:0,user_name:"",goods_name:"",sku_desc:null,rate:5,evaluate_text:"该用户没有填写评价。"},file_list:[{name:this.$store.state.img_url+"head_portrait.png",url:this.$store.state.img_url+"head_portrait.png",original_url:this.$store.state.img_url+"head_portrait.png"}],rules:{user_name:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:1,max:32,message:"长度在 1 到 32 个字符",trigger:"blur"}],sku_desc:[{required:!0,message:"请选择商品sku",trigger:"blur"}],create_time:[{required:!0,message:"请选择评价日期",trigger:"blur"}],evaluate_text:[{required:!0,message:"请输入评价内容",trigger:"blur"},{min:1,max:500,message:"长度在 1 到 500 个字符",trigger:"blur"}]},sku_desc_options:[]}},computed:{},created:function(){this.form.goods_id=this.$route.query.goods_id,this.getUserName(),this.form.create_time=(new Date).getTime(),this.getGoodsInfo()},methods:{beforeAvatarUpload:function(t){var e,o=t.size/1024/1024<1;return"image/jpeg"!==t.type&&"image/png"!==t.type&&(this.$message.error("上传图片只能是 JPG 或PNG格式!"),e=!1),o||(this.$message.error("上传图片大小不能超过 1MB!"),e=!1),e},uploadSuccess:function(t,e,o){var a={name:t.goods_img,url:t.goods_img,original_url:t.original_img};this.file_list.push(a)},remove:function(t,e){var o=this;this.file_list.length>0&&"success"===t.status&&this.file_list.forEach(function(e,a){e.name===t.name&&o.file_list.splice(a,1)})},submitEvaluate:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o=t.form;o.create_time=d()(o.create_time.toString().substring(0,10)),o.admin_token=t.$store.state.gl_cms_token,o.user_img=0===t.file_list.length?"":t.file_list[0].url;var a=t.$loading({text:"处理中"});t.$post("cms_add_evaluate",o).then(function(e){e&&t.$message({message:"操作成功",type:"success"}),a.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})},getGoodsInfo:function(){var t=this,e=this.$loading({text:"获取商品信息"});this.$fetch("cms_get_goods_info",{admin_token:this.$store.state.gl_cms_token,goods_id:this.form.goods_id}).then(function(o){if(o){var a=o.goods_sku;a.forEach(function(e){t.sku_desc_options.push({label:e.sku_desc,value:e.sku_desc})}),t.form.goods_name=o.goods_name}e.close()})},getUserName:function(){for(var t=6,e="ABCDEFGHJKMNPQRSTWXYZ",o=e.length,a="",i=0;i<t;i++)a+=e.charAt(Math.floor(Math.random()*o));this.form.user_name="default"+(new Date).getTime().toString().substring(0,11)+a}}}),Ka=Ha,Qa=(o("a738"),Object(r["a"])(Ka,Wa,Xa,!1,null,"4116b09b",null)),Ya=Qa.exports,Za=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"user_id",label:"Id",width:"50"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"user_name",label:"用户名",width:"180"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"integral",label:"积分",width:"100"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"login_count",label:"登录次数",width:"100"}}),o("el-table-column",{attrs:{prop:"login_ip",label:"IP",width:"150"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"login_time",label:"登录时间",width:"180"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"add_time",label:"创建时间",width:"180"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"姓名",width:"150"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"email",label:"email",width:"180"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"phone",label:"电话",width:"180"}})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)])},ti=[],ei={data:function(){return{tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_user_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},del:function(t,e){var o=this,a=e[t].id,i=e[t].goods_id,s=this.$loading({text:"处理中"});this.$post("cms_del_evaluate",{admin_token:this.$store.state.gl_cms_token,evaluate_id:a,goods_id:i}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),s.close()})}}},oi=ei,ai=Object(r["a"])(oi,Za,ti,!1,null,"5deeb9e6",null),ii=ai.exports,si=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("\n\t\t\t添加文章\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"article_name",label:"标题",width:"300"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"click_count",label:"点击量",width:"300"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"add_time",label:"添加时间",width:"200"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===t.tableData[e.$index].allow_del?o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除\n\t\t\t\t")]):t._e(),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.upd(e.$index,t.tableData)}}},[t._v("编辑\n\t\t\t\t")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.cleanCache(e.$index,t.tableData)}}},[t._v("清除缓存\n\t\t\t\t")])]}}])})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_url,alt:""}})])],1)},ri=[],ni={data:function(){return{path:"/EditedArticle",tableData:[],dialogVisible:!1,img_url:""}},computed:{},created:function(){this.getList()},methods:{add:function(){this.$router.push({path:this.path,query:{edit_type:"add"}})},upd:function(t,e){this.$router.push({path:this.path,query:{edit_type:"upd",info:h()(e[t])}})},del:function(t,e){var o=this,a=e[t].id;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_article",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},cleanCache:function(t,e){var o=this,a=e[t].id,i=this.$loading({text:"处理中"});this.$post("clean_user_article_cache",{article_id:a}).then(function(t){t&&o.$message({type:"success",message:"处理成功!"}),i.close()})},getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_all_article",{admin_token:this.$store.state.gl_cms_token}).then(function(o){t.$set(t,"tableData",o),e.close()})},showImg:function(t,e,o){switch(o){case"logo":this.img_url=e[t].logo_img;break;case"head":this.img_url=e[t].head_img;break}this.dialogVisible=!0}}},li=ni,ci=Object(r["a"])(li,si,ri,!1,null,"72d67fcb",null),ui=ci.exports,di=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("VueUeditorWrap",{attrs:{config:t.myConfig},model:{value:t.article_body,callback:function(e){t.article_body=e},expression:"article_body"}}),o("div",{staticClass:"input"},[o("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.article_name,callback:function(e){t.article_name=e},expression:"article_name"}})],1),o("div",{staticClass:"input"},[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存文章")])],1)],1)},mi=[],pi={data:function(){return{article_body:"",article_name:"",article_id:0,myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"UEditor/",serverUrl:this.$store.state.api_url+"ueditor_file_upload"}}},computed:{},created:function(){"upd"===this.$route.query.edit_type&&(this.article_body=JSON.parse(this.$route.query.info).article_body,this.article_name=JSON.parse(this.$route.query.info).article_name,this.article_id=JSON.parse(this.$route.query.info).id)},methods:{onSubmit:function(){var t={};t.admin_token=this.$store.state.gl_cms_token,t.article_body=this.article_body,t.article_name=this.article_name,"add"===this.$route.query.edit_type?this.add(t):"upd"===this.$route.query.edit_type&&this.upd(t)},add:function(t){var e=this,o=this.$loading({text:"处理中"});this.$post("cms_add_article",t).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.$router.go(-1)),o.close()})},upd:function(t){var e=this;t.article_id=this.article_id;var o=this.$loading({text:"处理中"});this.$post("cms_upd_article",t).then(function(a){a&&(e.$message({message:"操作成功",type:"success"}),0===t.parent_id&&e.getParentClassify(),e.$router.go(-1)),o.close()})}},components:{VueUeditorWrap:B.a}},_i=pi,fi=(o("30da"),Object(r["a"])(_i,di,mi,!1,null,"5cef2c98",null)),hi=fi.exports,gi=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("\n\t\t\t添加搜索记录\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"search_keyword",label:"关键词",width:"300"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"search_count",label:"搜索量",width:"100"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"son_into_type",label:"搜索来源",width:"200"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.del(e.$index,t.tableData)}}},[t._v("删除\n\t\t\t\t")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.tableData[e.$index].is_verify,expression:"tableData[scope.$index].is_verify === 0"}],attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.verify(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t审核通过\n\t\t\t\t")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:1===t.tableData[e.$index].is_verify,expression:"tableData[scope.$index].is_verify === 1"}],attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.cancelVerify(e.$index,t.tableData)}}},[t._v("\n\t\t\t\t\t取消过审\n\t\t\t\t")])]}}])})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_url,alt:""}})]),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)],1)},bi=[],vi={data:function(){return{path:"/EditedSearchLog",dialogVisible:!1,img_url:"",tableData:[],page:1,limit:10,count:0}},computed:{},created:function(){this.getList()},methods:{add:function(){this.$router.push({path:this.path,query:{edit_type:"add"}})},getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_all_search_log",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},del:function(t,e){var o=this,a=e[t].id;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_del_search_log",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e.splice(t,1)),i.close()})})},verify:function(t,e){var o=this,a=e[t].id;this.$confirm("确认通过审核?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_verify_search_log",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e[t].is_verify=1),i.close()})})},cancelVerify:function(t,e){var o=this,a=e[t].id;this.$confirm("确认取消审核通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=o.$loading({text:"处理中"});o.$post("cms_cancel_verify_search_log",{admin_token:o.$store.state.gl_cms_token,id:a}).then(function(a){a&&(o.$message({type:"success",message:"处理成功!"}),e[t].is_verify=0),i.close()})})}}},yi=vi,$i=Object(r["a"])(yi,gi,bi,!1,null,"41883034",null),xi=$i.exports,ki=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",rules:t.rules,size:"mini"}},[o("el-form-item",{attrs:{label:"关键词",prop:"search_keyword"}},[o("el-input",{model:{value:t.form.search_keyword,callback:function(e){t.$set(t.form,"search_keyword",e)},expression:"form.search_keyword"}})],1),o("el-form-item",{attrs:{label:"搜索次数:"}},[o("el-input-number",{attrs:{min:0,precision:0,prop:"search_count",controls:!1},model:{value:t.form.search_count,callback:function(e){t.$set(t.form,"search_count",e)},expression:"form.search_count"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认添加")])],1)],1)],1)])},wi=[],Ci={data:function(){return{form:{search_keyword:"",search_count:0},rules:{search_keyword:[{required:!0,message:"必选项",trigger:"blur"}],search_count:[{required:!0,message:"必选项",trigger:"blur"}]}}},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){if(e){var o=t.$loading({text:"处理中"}),a="cms_add_search_log",i=t.form;i.admin_token=t.$store.state.gl_cms_token,t.$post(a,i).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),o.close()})}else t.$message.error("表单验证不通过！，检查必要信息是否填写完成")})}}},Si=Ci,Di=(o("1d13"),Object(r["a"])(Si,ki,wi,!1,null,"1e9d89fa",null)),Ei=Di.exports,Oi=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ii=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticStyle:{width:"1400px",height:"800px"},attrs:{id:"into-count"}})])}],zi=o("313e"),Ti=o.n(zi),Li={data:function(){return{echarts:Ti.a,echarts_info:[],into_type_array:["wx","abc","3c_mobile"],number:15}},computed:{series_data:{get:function(){var t=[];return this.echarts_info&&this.echarts_info.forEach(function(e){var o={name:e.name,type:"line",stack:"总量",data:[]};e.data.forEach(function(t){o.data.push(t.into_count)}),o.data.reverse(),t.push(o)}),t}},xAxis_data:{get:function(){var t=[];return this.echarts_info&&this.echarts_info.some(function(e){return e.data.forEach(function(e){return t.push(e.into_date),!0}),!0}),t.reverse()}}},created:function(){},mounted:function(){this.getInfo()},methods:{drawLine:function(){var t=this.echarts.init(document.getElementById("into-count"));t.setOption({title:{text:"首页流量统计"},tooltip:{trigger:"axis"},legend:{data:this.into_type_array},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.xAxis_data},yAxis:{type:"value"},series:this.series_data})},getInfo:function(){var t=this;this.$fetch("cms_get_into_count",{admin_token:this.$store.state.gl_cms_token,number:this.number,into_type_array:this.into_type_array}).then(function(e){t.echarts_info=e,t.drawLine()})}}},Ni=Li,Gi=Object(r["a"])(Ni,Oi,Ii,!1,null,"538afddf",null),Ai=Gi.exports,qi=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"button-box"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/CreateShareUrl")}}},[t._v("\n\t\t\t创建链接\n\t\t")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"user_id",label:"用户标识",width:"100"}}),o("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"count_day",label:"累计签到次数",width:"150"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"continuity_day",label:"连续签到次数",width:"150"}}),o("el-table-column",{attrs:{prop:"avg_time",label:"平均签到时间",width:"200"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"count_share",label:"有效分享次数",width:"250"}})],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40,80,160],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1)],1)},Pi=[],Ui={data:function(){return{tableData:[],page:1,limit:20,count:0}},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("article_sign_get_user_list",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})}}},Bi=Ui,ji=Object(r["a"])(Bi,qi,Pi,!1,null,"437d943c",null),Mi=ji.exports,Ri=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"create-share-url-main"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",rules:t.rules,size:"mini"}},[o("el-form-item",{attrs:{label:"发布日期",prop:"start_date",required:""}},[o("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),o("el-form-item",{attrs:{label:"文章名称",prop:"article_name",required:""}},[o("el-input",{model:{value:t.form.article_name,callback:function(e){t.$set(t.form,"article_name",e)},expression:"form.article_name"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("创建")])],1)],1),t._v("\n\t生成链接：\n\t"),o("el-input",{attrs:{placeholder:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)},Fi=[],Vi={data:function(){return{form:{start_date:null,article_name:""},rules:{start_date:[{required:!0,message:"请选择发布日期",trigger:"change"}],article_name:[{required:!0,message:"请输入文章名称",trigger:"change"}]},url:""}},computed:{},created:function(){},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var o=e.$loading({text:"处理中"}),a=e.form;a.admin_token=e.$store.state.gl_cms_token,a.start_date=e.form.start_date.getTime(),e.$post("create_share_url",a).then(function(t){e.url=t,o.close()})})}}},Ji=Vi,Wi=(o("d79f"),Object(r["a"])(Ji,Ri,Fi,!1,null,"7fc6ecb6",null)),Xi=Wi.exports,Hi=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-update-main"},[o("div",{staticClass:"left"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"更新平台:",prop:"platform"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getAppVersionInfo},model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},t._l(t.platform_options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",{attrs:{label:"版本号:",prop:"app_version"}},[o("el-input",{model:{value:t.form.app_version,callback:function(e){t.$set(t.form,"app_version",e)},expression:"form.app_version"}}),o("el-alert",{attrs:{title:"he package version. `CFBundleShortVersionString` on iOS, `versionName` on Android.",type:"success"}})],1),o("el-form-item",{attrs:{label:"构建号:",prop:"build_number"}},[o("el-input-number",{attrs:{min:1,precision:0,controls:!1},model:{value:t.form.build_number,callback:function(e){t.$set(t.form,"build_number",e)},expression:"form.build_number"}}),o("el-alert",{attrs:{title:"The build number. `CFBundleVersion` on iOS, `versionCode` on Android.",type:"success"}})],1),o("el-form-item",{attrs:{label:"下载地址:"}},[o("el-input",{model:{value:t.form.download_url,callback:function(e){t.$set(t.form,"download_url",e)},expression:"form.download_url"}})],1),o("el-form-item",{attrs:{label:"IosAppId:"}},[o("el-input",{model:{value:t.form.ios_app_id,callback:function(e){t.$set(t.form,"ios_app_id",e)},expression:"form.ios_app_id"}})],1),o("el-form-item",{attrs:{label:"更新说明:",prop:"describe"}},[o("el-input",{model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}}),o("el-alert",{attrs:{title:"以符号“|”作为换行符",type:"success"}})],1),o("el-form-item",{attrs:{label:"安装包"}},[o("el-upload",{attrs:{action:t.$store.state.api_url+"cms/cms_upload_app","on-success":t.uploadSuccess,"on-remove":t.remove,data:{admin_token:t.$store.state.gl_cms_token},limit:1,name:"app","file-list":t.file_list}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("确认保存")])],1)],1)],1),o("div",{staticClass:"right"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",{staticStyle:{"font-weight":"bolder"}},[t._v("最近一次更新")])]),o("p",{staticClass:"card-item"},[t._v("更新时间："+t._s(t.app_version_info.add_time))]),o("p",{staticClass:"card-item"},[t._v("平台："+t._s(t.app_version_info.platform))]),o("p",{staticClass:"card-item"},[t._v("下载链接："+t._s(t.app_version_info.download_url))]),o("p",{staticClass:"card-item"},[t._v("说明："+t._s(t.app_version_info.describe))]),o("p",{staticClass:"card-item"},[t._v("版本号："+t._s(t.app_version_info.app_version))]),o("p",{staticClass:"card-item"},[t._v("构建号："+t._s(t.app_version_info.build_number))]),o("p",{staticClass:"card-item"},[t._v("IosAppId："+t._s(t.app_version_info.ios_app_id))])])],1)])},Ki=[],Qi={data:function(){return{form:{platform:"android",download_url:"",file_size:0,describe:"",app_version:"",build_number:1,ios_app_id:""},rules:{platform:[{required:!0,message:"请选择更新平台",trigger:"blur"}],describe:[{required:!0,message:"请输入新版本特性",trigger:"blur"}],app_version:[{required:!0,message:"请输入版本号",trigger:"blur"},{min:5,max:8,message:"长度在 5 到 8 个字符",trigger:"blur"}],build_number:[{required:!0,message:"请输入构建号",trigger:"blur"}]},platform_options:[{value:"android",label:"安卓"},{value:"ios",label:"苹果"}],file_list:[],app_version_info:{add_time:"",platform:"",download_url:"",describe:"",app_version:"",build_number:1,ios_app_id:""}}},computed:{},created:function(){this.getAppVersionInfo()},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var o=e.form;o.admin_token=e.$store.state.gl_cms_token,window.console.log(o);var a=e.$loading({text:"处理中"});e.$post("cms_add_new_version_app",o).then(function(t){t&&(e.$message({message:"操作成功",type:"success"}),e.form={platform:"android",download_url:"",file_size:0,describe:"",app_version:"",build_number:0,ios_app_id:""},e.getAppVersionInfo()),a.close()})})},getAppVersionInfo:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("cms_get_app_version_info",{platform:this.form.platform}).then(function(o){"success"===o["result_code"]?t.app_version_info=o:t.app_version_info={add_time:"",platform:"",download_url:"",describe:"",app_version:"",build_number:1,ios_app_id:""},e.close()})},uploadSuccess:function(t){var e={name:t.download_path,url:t.download_path,file_size:t.file_size};this.file_list.push(e),this.form.download_url=e.url,this.form.file_size=e.file_size},remove:function(t){var e=this;this.file_list.length>0&&"success"===t.status&&(this.file_list.forEach(function(o,a){o.name===t.name&&e.file_list.splice(a,1)}),this.form.download_url="")}}},Yi=Qi,Zi=(o("7aaa"),Object(r["a"])(Yi,Hi,Ki,!1,null,"0980f7a0",null)),ts=Zi.exports,es=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"850px",stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"feed_back_type",label:"反馈类型",width:"180"}}),o("el-table-column",{attrs:{prop:"problem_details",label:"描述",width:"200"}}),o("el-table-column",{attrs:{prop:"contact",label:"联系方式",width:"180"}}),o("el-table-column",{attrs:{prop:"add_time",label:"提交时间",width:"180"}}),o("el-table-column",{attrs:{width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.tableData[e.$index].img_files_url,function(a,i){return o("el-button",{key:i,attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.showImg(e.$index,t.tableData,i)}}},[t._v("查看图片\n\t\t\t\t\t")])})}}])})],1)],1),o("div",{staticClass:"my-el-pagination"},[o("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.count},on:{"size-change":t.getList,"current-change":t.getList,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}})],1),o("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.img_url,alt:""}})])],1)},os=[],as={data:function(){return{page:1,limit:10,count:0,tableData:[],img_url:"",dialogVisible:!1}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.$loading({text:"加载中"});this.$fetch("feed_back",{admin_token:this.$store.state.gl_cms_token,page:this.page,limit:this.limit}).then(function(o){t.$set(t,"tableData",o.list),t.$set(t,"count",o.count),e.close()})},showImg:function(t,e,o){this.img_url=e[t].img_files_url[o],this.dialogVisible=!0}}},is=as,ss=Object(r["a"])(is,es,os,!1,null,"7739216e",null),rs=ss.exports,ns=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mainMain"},[o("el-container",[o("el-aside",{staticStyle:{"background-color":"rgb(57,61,73)",width:"200px"}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical",router:"","default-active":t.active,"background-color":"rgb(57,61,73)","text-color":"rgb(255,255,255)"}},t._l(t.submenus,function(e,a){return o("el-submenu",{key:a,attrs:{index:a.toString()}},[o("template",{slot:"title"},[o("i",{class:e.iconName}),o("span",[t._v(t._s(e.titleName))])]),t._l(e.menuItems,function(e,a){return o("span",{key:a},[e.hasOwnProperty("onClick")?o("el-menu-item",{key:a,attrs:{index:e.routerPath},on:{click:e.onClick}},[t._v(t._s(e.innerText))]):o("el-menu-item",{key:a,attrs:{index:e.routerPath}},[t._v(t._s(e.innerText))])],1)})],2)}),1)],1),o("el-main",[o("router-view")],1)],1)],1)},ls=[],cs={name:"Main",data:function(){return{submenus:[{titleName:"商品管理",iconName:"el-icon-news",menuItems:[{routerPath:"/GoodsList",innerText:"商品列表",onClick:this.iniPageInfoCache},{routerPath:"/CatList",innerText:"分类列表"},{routerPath:"/SupplierList",innerText:"供应商"}]},{titleName:"订单管理",iconName:"el-icon-tickets",menuItems:[{routerPath:"/OrderList",innerText:"订单列表"},{routerPath:"/MakeOrderList",innerText:"预约订单列表"},{routerPath:"/ServiceList",innerText:"售后请求"},{routerPath:"/EvaluateList",innerText:"商品评价"}]},{titleName:"广告促销",iconName:"el-icon-picture",menuItems:[{routerPath:"/CouponList",innerText:"优惠券管理"},{routerPath:"/IndexAdList",innerText:"首页广告管理"},{routerPath:"/ClassifyAdList",innerText:"分类展示"},{routerPath:"/ArticleList",innerText:"文章管理"},{routerPath:"/SearchLogList",innerText:"搜索管理"}]},{titleName:"工行融易购",iconName:"el-icon-goods",menuItems:[{routerPath:"/ghDigitalProduct",innerText:"新3C数码馆"},{routerPath:"/ghFashionSciTech",innerText:"潮流科技zone"},{routerPath:"/ghKettleMobileList",innerText:"水具厨具馆"},{routerPath:"/ghAppliancesMobileList",innerText:"家电馆"}]},{titleName:"活动页",iconName:"el-icon-menu",menuItems:[{routerPath:"/ArticleSign",innerText:"文章打卡"}]},{titleName:"管理",iconName:"el-icon-s-platform",menuItems:[{routerPath:"/adminUserList",innerText:"人员管理"},{routerPath:"/menusList",innerText:"菜单管理"}]},{titleName:"其他",iconName:"el-icon-setting",menuItems:[{routerPath:"/UserList",innerText:"用户管理"},{routerPath:"/intoCountList",innerText:"流量查看"},{routerPath:"/AppUpdate",innerText:"应用更新"},{routerPath:"/FeedBack",innerText:"意见反馈"},{routerPath:"/UserList",innerText:"退出登录",onClick:this.outLogin}]}],menuItemsRouterPaths:[]}},computed:{active:{get:function(){var t=this.$route.path,e="";return this.menuItemsRouterPaths.some(function(o){return o===t?(e=t,!0):"/"===t?(e="/GoodsList",!0):void 0}),e},set:function(){}}},created:function(){var t=this;this.submenus.forEach(function(e){e.menuItems.forEach(function(e){t.menuItemsRouterPaths.push(e.routerPath)})})},methods:{iniPageInfoCache:function(){this.$store.state.page_info_cache={page:1,limit:10,goods_name:"",cat_id:"",into_type:"wx",position_type:"",position_type_name:"",ad_type:"无响应",parent_id:0,group_name:""}},outLogin:function(){localStorage.removeItem("gl_cms_token"),this.$router.push("/login")}}},us=cs,ds=(o("a006"),Object(r["a"])(us,ns,ls,!1,null,null,null)),ms=ds.exports,ps=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"admin-user-list-main"})},_s=[],fs={name:"AdminUserList",methods:{}},hs=fs,gs=(o("9733"),Object(r["a"])(hs,ps,_s,!1,null,"e0379b0a",null)),bs=gs.exports,vs=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menus-list-main"},[o("div",{staticClass:"form-box"},[o("el-button",{attrs:{type:"primary"},on:{click:t.addMenu}},[t._v("添加菜单")])],1),o("div",{staticClass:"table-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{prop:"titleName",label:"标题名称",width:"180"}}),o("el-table-column",{attrs:{prop:"parentId",label:"父级分类",width:"180"}}),o("el-table-column",{attrs:{prop:"actionCode",label:"地址"}}),o("el-table-column",{attrs:{prop:"iconName",label:"地址"}}),o("el-table-column",{attrs:{prop:"routerPath",label:"地址"}}),o("el-table-column",{attrs:{prop:"onClickName",label:"地址"}})],1)],1)])},ys=[],$s={name:"MumsList",data:function(){return{tableData:null}},methods:{addMenu:function(){this.$router.push("/editMenu")}}},xs=$s,ks=(o("9cdb"),Object(r["a"])(xs,vs,ys,!1,null,"3e2f46ea",null)),ws=ks.exports,Cs=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit-menu-main"},[o("el-form",{attrs:{model:t.form,"label-width":"auto"}},[o("el-form-item",{attrs:{label:"菜单名称"}},[o("el-input",{model:{value:t.form.titleName,callback:function(e){t.$set(t.form,"titleName",e)},expression:"form.titleName"}})],1),o("el-form-item",{attrs:{label:"图标名称"}},[o("el-input",{model:{value:t.form.iconName,callback:function(e){t.$set(t.form,"iconName",e)},expression:"form.iconName"}}),o("el-alert",{attrs:{title:"参考：https://element.eleme.cn/#/zh-CN/component/icon",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==t.form.parentId,expression:"form.parentId !== 0"}],attrs:{label:"路径名称"}},[o("el-input",{model:{value:t.form.routerPath,callback:function(e){t.$set(t.form,"routerPath",e)},expression:"form.routerPath"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==t.form.parentId,expression:"form.parentId !== 0"}],attrs:{label:"执行方法名称"}},[o("el-input",{model:{value:t.form.onClickName,callback:function(e){t.$set(t.form,"onClickName",e)},expression:"form.onClickName"}}),o("el-alert",{attrs:{title:"目前支持：iniPageInfoCache（初始化页面缓存），outLogin（退出登录）",type:"success"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==t.form.parentId,expression:"form.parentId !== 0"}],attrs:{label:"权限数值"}},[o("el-input-number",{attrs:{min:1,max:10},model:{value:t.form.actionCode,callback:function(e){t.$set(t.form,"actionCode",e)},expression:"form.actionCode"}})],1),o("el-form-item",{attrs:{label:"父级菜单"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}},t._l(t.parentIdOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),o("el-form-item",[0===t.menuId?o("el-button",{attrs:{type:"primary"},on:{click:t.addMenu}},[t._v("立即创建")]):o("el-button",{attrs:{type:"primary"},on:{click:t.updateMenu}},[t._v("确认更新")])],1)],1)],1)},Ss=[],Ds={name:"EditMenu",data:function(){return{form:{titleName:"",parentId:0,actionCode:10,iconName:"",routerPath:"",onClickName:""},menuId:0,parentIdOptions:[{value:0,label:"顶级菜单"}]}},methods:{addMenu:function(){var t=this,e=this.form;e["admin_token"]=this.$store.state.gl_cms_token,console.log(e);var o=this.$loading();this.$post("add_menu",e).then(function(e){e&&(t.$message({message:"操作成功",type:"success"}),t.$router.go(-1)),o.close()})},updateMenu:function(){}}},Es=Ds,Os=(o("5911"),Object(r["a"])(Es,Cs,Ss,!1,null,"72f8eeb7",null)),Is=Os.exports;a["default"].use(m["a"]);var zs=new m["a"]({routes:[{path:"/index",component:ms,children:[{path:"/",redirect:"/GoodsList"},{path:"/GoodsList",component:S},{path:"/EditGoods",component:lt},{path:"/BatchUpdGoodsHeadName",component:_t},{path:"/CopyGoodsByParentId",component:yt},{path:"/CatList",component:St},{path:"/EditCat",component:Tt},{path:"/SupplierList",component:Ft},{path:"/EditSupplier",component:Kt},{path:"/ShearOrCopyGoods",component:Pt},{path:"/OrderList",component:ce},{path:"/seeOrder",component:De},{path:"/MakeOrderList",component:fe},{path:"/EditLogistics",component:$e},{path:"/ServiceList",component:Le},{path:"/CouponList",component:Ue},{path:"/EditCoupon",component:Ve},{path:"/IndexAdList",component:Qe},{path:"/EditRedBullGoodsIndexAd",component:ao},{path:"/EditRedBullHWGoodsIndexAd",component:co},{path:"/EditWxIndexAd",component:ho},{path:"/EditAbcIndexAd",component:xo},{path:"/ghKettleMobileList",component:ua},{path:"/ghKettleEditMobile",component:ha},{path:"/ghAppliancesMobileList",component:xa},{path:"/ghAppliancesEditMobile",component:Ea},{path:"/ghDigitalProduct",component:Jo},{path:"/ghEditNew3cMobile",component:ia},{path:"/ghFashionSciTech",component:Na},{path:"/ghEditFashionSciTech",component:Ba},{path:"/EvaluateList",component:Ja},{path:"/AddEvaluate",component:Ya},{path:"/UserList",component:ii},{path:"/intoCountList",component:Ai},{path:"/ClassifyAdList",component:Eo},{path:"/EditClassifyAd",component:No},{path:"/ArticleList",component:ui},{path:"/EditedArticle",component:hi},{path:"/SearchLogList",component:xi},{path:"/EditedSearchLog",component:Ei},{path:"/ArticleSign",component:Mi},{path:"/CreateShareUrl",component:Xi},{path:"/AppUpdate",component:ts},{path:"/FeedBack",component:rs},{path:"/adminUserList",component:bs},{path:"/menusList",component:ws},{path:"/editMenu",component:Is}]},{path:"/",redirect:"/index"},{path:"/login",component:y}]});zs.beforeEach(function(t,e,o){var a=JSON.parse(localStorage.getItem("gl_cms_token")||"[]"),i=(new Date).getTime(),s=a.over_time;return a.length<1&&"/login"!==t.path?(localStorage.setItem("beforeLoginUrl",t.fullPath),o("/login"),!1):d()(i)>=d()(s)&&"/login"!==t.path?(localStorage.removeItem("gl_cms_token"),localStorage.setItem("beforeLoginUrl",t.fullPath),o("/login"),!1):void o()});var Ts=zs,Ls=o("2f62"),Ns=o("795b"),Gs=o.n(Ns),As=o("bc3a"),qs=o.n(As),Ps=o("4328"),Us=o.n(Ps),Bs=o("5c96"),js=o.n(Bs);function Ms(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gs.a(function(o,a){qs.a.get(t,{params:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){o(t)}).catch(function(t){a(t)})})}function Rs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gs.a(function(o,a){qs.a.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){o(t)}).catch(function(t){a(t)})})}function Fs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gs.a(function(o,a){qs.a.post(t,Us.a.stringify(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){o(t)},function(t){a(t)})})}function Vs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gs.a(function(o,a){qs.a.patch(t,e).then(function(t){o(t.data)},function(t){a(t)})})}function Js(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Gs.a(function(o,a){qs.a.put(t,e).then(function(t){o(t.data)},function(t){a(t)})})}qs.a.defaults.timeout=0,qs.a.defaults.baseURL="https://test-api.ganglonggou.com/api/v1/cms",qs.a.interceptors.request.use(function(t){return t.validateStatus=function(t){return t>=200&&t<=400},t},function(t){return Gs.a.reject(t)}),qs.a.interceptors.response.use(function(t){return void 0!==t.data.error_code?(Bs["Message"].error(t.data.msg),!1):t.data},function(t){return Bs["Message"].error("发生未知错误："+t),!1}),a["default"].use(Ls["a"]);var Ws=JSON.parse(localStorage.getItem("gl_cms_token")||"[]"),Xs=new Ls["a"].Store({state:{gl_cms_token:Ws.token,api_url:"https://api.ganglonggou.com/api/v1/",img_url:"https://test-img-api.ganglonggou.com/",cat_list:[],cat_ad_list:[],goods_info:{},goods_gallery:[],page_info_cache:{page:1,limit:10,goods_name:"",cat_id:"",into_type:"wx",position_type:"",position_type_name:"",ad_type:"无响应",parent_id:0,group_name:""},parent_classify_ad_list:[]},mutations:{},actions:{getCatList:function(t,e){var o=Bs["Loading"].service({text:"获取分类列表"});Ms("cms_get_cat_list",{admin_token:e}).then(function(e){a["default"].set(t.state,"cat_list",e),o.close()})}}}),Hs=Xs;o("df1a"),o("39a0"),o("0fae");a["default"].config.productionTip=!1,a["default"].use(js.a),a["default"].prototype.$post=Fs,a["default"].prototype.$fetch=Ms,a["default"].prototype.$patch=Vs,a["default"].prototype.$put=Js,a["default"].prototype.$imgUpload=Rs,new a["default"]({store:Hs,router:Ts,render:function(t){return t(c)}}).$mount("#app")},"585d":function(t,e,o){"use strict";var a=o("0fa6"),i=o.n(a);i.a},5911:function(t,e,o){"use strict";var a=o("e269"),i=o.n(a);i.a},"5c0b":function(t,e,o){"use strict";var a=o("5e27"),i=o.n(a);i.a},"5e27":function(t,e,o){},"619b":function(t,e,o){},6242:function(t,e,o){t.exports=o.p+"img/abc_index_ad_show.757cd669.jpg"},6664:function(t,e,o){t.exports=o.p+"img/appliances_mobile_ad_show.fc04d32f.jpg"},6782:function(t,e,o){"use strict";var a=o("b2a4"),i=o.n(a);i.a},"6da4":function(t,e,o){},"6fe2":function(t,e,o){"use strict";var a=o("da92"),i=o.n(a);i.a},"774d":function(t,e,o){"use strict";var a=o("b2ac"),i=o.n(a);i.a},"79ba":function(t,e,o){},"7a6b":function(t,e,o){"use strict";var a=o("c6fa"),i=o.n(a);i.a},"7aaa":function(t,e,o){"use strict";var a=o("10a2"),i=o.n(a);i.a},"7dc6":function(t,e,o){},"7dda":function(t,e,o){},"8e03":function(t,e,o){},"8e38":function(t,e,o){},"92f4":function(t,e,o){},9733:function(t,e,o){"use strict";var a=o("50dc"),i=o.n(a);i.a},"9bc4":function(t,e,o){},"9cdb":function(t,e,o){"use strict";var a=o("1db9"),i=o.n(a);i.a},"9faf":function(t,e,o){"use strict";var a=o("ff39"),i=o.n(a);i.a},a006:function(t,e,o){"use strict";var a=o("b2d9"),i=o.n(a);i.a},a109:function(t,e,o){"use strict";var a=o("0e78"),i=o.n(a);i.a},a66e:function(t,e,o){"use strict";var a=o("7dda"),i=o.n(a);i.a},a671:function(t,e,o){},a738:function(t,e,o){"use strict";var a=o("f7c2"),i=o.n(a);i.a},ac47:function(t,e,o){"use strict";var a=o("2c8a"),i=o.n(a);i.a},ad5c:function(t,e,o){"use strict";var a=o("a671"),i=o.n(a);i.a},af45:function(t,e,o){"use strict";var a=o("e798"),i=o.n(a);i.a},b2a4:function(t,e,o){},b2ac:function(t,e,o){},b2c8:function(t,e,o){},b2d9:function(t,e,o){},b35f:function(t,e,o){"use strict";var a=o("b2c8"),i=o.n(a);i.a},b97d:function(t,e,o){},bfcd:function(t,e,o){"use strict";var a=o("8e38"),i=o.n(a);i.a},c5a9:function(t,e,o){},c6fa:function(t,e,o){},ca9b:function(t,e,o){"use strict";var a=o("7dc6"),i=o.n(a);i.a},cd13:function(t,e,o){},d264:function(t,e,o){"use strict";var a=o("8e03"),i=o.n(a);i.a},d79f:function(t,e,o){"use strict";var a=o("36d0"),i=o.n(a);i.a},d813:function(t,e,o){"use strict";var a=o("35df"),i=o.n(a);i.a},da92:function(t,e,o){},dc06:function(t,e,o){"use strict";var a=o("177f"),i=o.n(a);i.a},df1a:function(t,e,o){"use strict";o.r(e);o("28a5"),o("6b54"),o("4917");
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(o){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},o=function(){this.data=[]},a=function(t,e,o){this.data=t,this.size=t.length,this.type=e,this.encoding=o},i=o.prototype,s=a.prototype,r=t.FileReaderSync,n=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=t.URL||t.webkitURL||t,d=u.createObjectURL,m=u.revokeObjectURL,p=u,_=t.btoa,f=t.atob,h=t.ArrayBuffer,g=t.Uint8Array;a.fake=s.fake=!0;while(c--)n.prototype[l[c]]=c+1;return u.createObjectURL||(p=t.URL={}),p.createObjectURL=function(t){var e,o=t.type;return null===o&&(o="application/octet-stream"),t instanceof a?(e="data:"+o,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):_?e+";base64,"+_(t.data):e+","+encodeURIComponent(t.data)):d?d.call(u,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&m&&m.call(u,t)},i.append=function(t){var o=this.data;if(g&&(t instanceof h||t instanceof g)){for(var i="",s=new g(t),l=0,c=s.length;l<c;l++)i+=String.fromCharCode(s[l]);o.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!r)throw new n("NOT_READABLE_ERR");var u=new r;o.push(u.readAsBinaryString(t))}else t instanceof a?"base64"===t.encoding&&f?o.push(f(t.data)):"URI"===t.encoding?o.push(decodeURIComponent(t.data)):"raw"===t.encoding&&o.push(t.data):("string"!==typeof t&&(t+=""),o.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new a(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},s.slice=function(t,e,o){var i=arguments.length;return i<3&&(o=null),new a(this.data.slice(t,i>1?e:this.data.length),o,this.encoding)},s.toString=function(){return"[object Blob]"},s.close=function(){this.size=this.data.length=0},o}(t);t.Blob=function(t,o){var a=o&&o.type||"",i=new e;if(t)for(var s=0,r=t.length;s<r;s++)i.append(t[s]);return i.getBlob(a)}})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||(void 0).content||void 0)},e269:function(t,e,o){},e2fc:function(t,e,o){"use strict";var a=o("10f7"),i=o.n(a);i.a},e798:function(t,e,o){},ea19:function(t,e,o){"use strict";var a=o("483c"),i=o.n(a);i.a},f36a:function(t,e,o){"use strict";var a=o("79ba"),i=o.n(a);i.a},f7c2:function(t,e,o){},feb6:function(t,e,o){},ff39:function(t,e,o){}});
//# sourceMappingURL=app.05193a3c.js.map